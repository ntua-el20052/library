-- MariaDB dump 10.19  Distrib 10.4.27-MariaDB, for Win64 (AMD64)
--
-- Host: localhost    Database: library_final
-- ------------------------------------------------------
-- Server version	10.4.27-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `library_final`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `library_final` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci */;

USE `library_final`;

--
-- Temporary table structure for view `active_borrowings_view`
--

DROP TABLE IF EXISTS `active_borrowings_view`;
/*!50001 DROP VIEW IF EXISTS `active_borrowings_view`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE VIEW `active_borrowings_view` AS SELECT
 1 AS `school_name`,
  1 AS `active_borrowings_count` */;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `authors`
--

DROP TABLE IF EXISTS `authors`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `authors` (
  `author_id` int(11) NOT NULL AUTO_INCREMENT,
  `author_name` varchar(100) NOT NULL,
  PRIMARY KEY (`author_id`),
  KEY `author_name` (`author_name`)
) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `authors`
--

LOCK TABLES `authors` WRITE;
/*!40000 ALTER TABLE `authors` DISABLE KEYS */;
INSERT INTO `authors` VALUES (1,' Ava Greenfield'),(2,' Ava Roberts'),(3,' Emily Collins'),(4,' Ethan Moore'),(5,' Ethan Phillips'),(6,' Gabriel Thompson'),(7,' Isabella Carter'),(8,' Isabella Wright'),(9,' Leonardo Russo'),(10,' Olivia Hartman'),(11,' Olivia Reed'),(12,' Ryan Brooks'),(13,' Ryan Hughes'),(14,'Amelia Knight'),(15,'Ava Adams'),(16,'Ava Davis'),(17,'Ava Greenfield'),(18,'Ava Mitchell'),(19,'Ava Patterson'),(20,'Ava Rodriguez'),(21,'Ava Thompson'),(22,'Ava Wilson'),(23,'Ava Wright'),(24,'Benjamin Adams'),(25,'Benjamin Andrews'),(26,'Benjamin Davis'),(27,'Benjamin Foster'),(28,'Benjamin Greenfield'),(29,'Benjamin Harris'),(30,'Benjamin Hartman'),(31,'Benjamin Hayes'),(32,'Benjamin Knight'),(33,'Benjamin Lawson'),(34,'Benjamin Moore'),(35,'Benjamin Reed'),(36,'Benjamin Thompson'),(37,'Benjamin Wilson'),(38,'Benjamin Wright'),(39,'Daniel Mitchell'),(40,'Daniel Morgan'),(41,'Elijah Barnes'),(150,'Elisavet Papadopoulou'),(42,'Emily Harrison'),(43,'Emily Sullivan'),(44,'Emily Tran'),(45,'Emma Adams'),(46,'Emma Carter'),(47,'Emma Collins'),(48,'Emma Greenfield'),(49,'Emma Moore'),(50,'Emma Sullivan'),(51,'Emma Thompson'),(52,'Emma Wilson'),(53,'Emma Wright'),(54,'Ethan Campbell'),(55,'Ethan Harrison'),(56,'Ethan Parker'),(57,'Ethan Thompson'),(58,'Gabriel Adams'),(59,'Gabriel Carter'),(60,'Gabriel Greenfield'),(61,'Gabriel Knight'),(62,'Gabriel Moore'),(63,'Gabriel Morgan'),(64,'Gabriel Reed'),(65,'Gabriel Thompson'),(66,'Gabriel Wilson'),(67,'Gabriel Wright'),(68,'Harper Foster'),(69,'Isaac Collins'),(70,'Isabella Adams'),(71,'Isabella Davis'),(72,'Isabella Greenfield'),(73,'Isabella Martinez'),(74,'Isabella Moore'),(75,'Isabella Roberts');
/*!40000 ALTER TABLE `authors` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `belongs_to`
--

DROP TABLE IF EXISTS `belongs_to`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `belongs_to` (
  `blng_to_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `isbn` varchar(13) NOT NULL,
  `nmbr_of_copies_per_school` int(11) NOT NULL,
  PRIMARY KEY (`blng_to_id`),
  KEY `belongs_to_ibfk_1` (`name`),
  KEY `belongs_to_ibfk_2` (`isbn`),
  CONSTRAINT `belongs_to_ibfk_1` FOREIGN KEY (`name`) REFERENCES `school_unit` (`school_name`) ON UPDATE CASCADE,
  CONSTRAINT `belongs_to_ibfk_2` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=204 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `belongs_to`
--

LOCK TABLES `belongs_to` WRITE;
/*!40000 ALTER TABLE `belongs_to` DISABLE KEYS */;
INSERT INTO `belongs_to` VALUES (1,'1o ATHINON','1010000000000',10),(2,'1o ATHINON','1020000000000',0),(3,'1o ATHINON','1030000000000',7),(4,'1o ATHINON','1040000000000',7),(5,'1o ATHINON','1050000000000',7),(6,'1o ATHINON','1060000000000',0),(7,'1o ATHINON','1070000000000',0),(8,'1o ATHINON','1080000000000',5),(9,'1o ATHINON','1090000000000',0),(10,'1o ATHINON','1100000000000',2),(11,'1o ATHINON','1110000000000',7),(12,'1o ATHINON','1120000000000',4),(13,'1o ATHINON','1130000000000',3),(14,'1o ATHINON','1140000000000',6),(15,'1o ATHINON','1150000000000',0),(16,'1o ATHINON','1160000000000',2),(17,'1o ATHINON','1170000000000',6),(18,'1o ATHINON','1180000000000',5),(19,'1o ATHINON','1190000000000',0),(20,'2o PATRAS','1200000000000',6),(21,'2o PATRAS','1210000000000',5),(22,'2o PATRAS','1220000000000',5),(23,'2o PATRAS','1230000000000',5),(24,'2o PATRAS','1240000000000',0),(25,'2o PATRAS','1250000000000',5),(26,'2o PATRAS','1260000000000',5),(27,'2o PATRAS','1270000000000',5),(28,'2o PATRAS','1280000000000',0),(29,'2o PATRAS','1290000000000',5),(30,'2o PATRAS','1300000000000',6),(31,'2o PATRAS','1310000000000',5),(32,'2o PATRAS','1320000000000',11),(33,'2o PATRAS','1330000000000',16),(34,'2o PATRAS','1340000000000',8),(35,'2o PATRAS','1350000000000',13),(36,'2o PATRAS','1360000000000',5),(37,'2o PATRAS','1370000000000',6),(38,'2o PATRAS','1380000000000',13),(39,'2o PATRAS','1390000000000',5),(40,'2o PATRAS','1400000000000',1),(41,'2o PATRAS','1410000000000',5),(42,'2o PATRAS','1420000000000',14),(43,'2o PATRAS','1430000000000',17),(44,'2o PATRAS','1440000000000',9),(45,'2o PATRAS','1450000000000',7),(46,'2o PATRAS','1460000000000',7),(47,'2o PATRAS','1470000000000',7),(48,'2o PATRAS','1480000000000',7),(49,'2o PATRAS','1490000000000',7),(50,'2o PATRAS','1500000000000',24),(51,'2o PATRAS','1510000000000',15),(52,'2o PATRAS','1520000000000',17),(53,'3o BOLOU','1530000000000',19),(54,'3o BOLOU','1540000000000',15),(55,'3o BOLOU','1550000000000',20),(56,'3o BOLOU','1560000000000',17),(57,'3o BOLOU','1570000000000',14),(58,'3o BOLOU','1580000000000',15),(59,'3o BOLOU','1590000000000',14),(60,'3o BOLOU','1600000000000',13),(61,'3o BOLOU','1610000000000',18),(62,'3o BOLOU','1620000000000',13),(63,'3o BOLOU','1630000000000',13),(64,'3o BOLOU','1640000000000',12),(65,'3o BOLOU','1650000000000',0),(66,'3o BOLOU','1660000000000',0),(67,'3o BOLOU','1670000000000',0),(68,'3o BOLOU','1680000000000',13),(69,'3o BOLOU','1690000000000',16),(70,'4o THESSALONIKIS','1700000000000',17),(71,'4o THESSALONIKIS','1710000000000',9),(72,'4o THESSALONIKIS','1720000000000',8),(73,'4o THESSALONIKIS','1730000000000',7),(74,'4o THESSALONIKIS','1740000000000',15),(75,'4o THESSALONIKIS','1750000000000',15),(76,'4o THESSALONIKIS','1760000000000',13),(77,'4o THESSALONIKIS','1770000000000',7),(78,'4o THESSALONIKIS','1780000000000',7),(79,'4o THESSALONIKIS','1790000000000',7),(80,'4o THESSALONIKIS','1800000000000',7),(81,'4o THESSALONIKIS','1810000000000',7),(82,'4o THESSALONIKIS','1820000000000',15),(83,'4o THESSALONIKIS','1830000000000',16),(84,'4o THESSALONIKIS','1840000000000',14),(85,'4o THESSALONIKIS','1850000000000',12),(86,'4o THESSALONIKIS','1860000000000',0),(87,'4o THESSALONIKIS','1870000000000',14),(88,'4o THESSALONIKIS','1880000000000',23),(89,'4o THESSALONIKIS','1890000000000',16),(90,'4o THESSALONIKIS','1900000000000',14),(91,'4o THESSALONIKIS','1910000000000',13),(92,'4o THESSALONIKIS','1920000000000',12),(93,'4o THESSALONIKIS','1930000000000',13),(94,'4o THESSALONIKIS','1940000000000',12),(95,'4o THESSALONIKIS','1950000000000',11),(96,'4o THESSALONIKIS','1960000000000',10),(97,'4o THESSALONIKIS','1970000000000',13),(98,'4o THESSALONIKIS','1980000000000',19),(99,'4o THESSALONIKIS','1990000000000',10),(100,'4o THESSALONIKIS','2000000000000',12),(101,'4o THESSALONIKIS','2010000000000',0),(102,'2o PATRAS','1010000000000',5),(103,'2o PATRAS','1020000000000',5),(104,'2o PATRAS','1030000000000',5),(105,'2o PATRAS','1040000000000',5),(106,'2o PATRAS','1050000000000',6),(107,'2o PATRAS','1060000000000',7),(108,'2o PATRAS','1070000000000',5),(109,'2o PATRAS','1080000000000',5),(110,'2o PATRAS','1090000000000',5),(111,'2o PATRAS','1100000000000',5),(112,'2o PATRAS','1110000000000',5),(113,'2o PATRAS','1120000000000',5),(114,'2o PATRAS','1130000000000',5),(115,'2o PATRAS','1140000000000',10),(116,'2o PATRAS','1150000000000',5),(117,'2o PATRAS','1160000000000',5),(118,'2o PATRAS','1170000000000',5),(119,'2o PATRAS','1180000000000',12),(120,'2o PATRAS','1190000000000',23),(121,'4o THESSALONIKIS','1200000000000',16),(122,'4o THESSALONIKIS','1210000000000',17),(123,'4o THESSALONIKIS','1220000000000',18),(124,'4o THESSALONIKIS','1230000000000',19),(125,'4o THESSALONIKIS','1240000000000',12),(126,'4o THESSALONIKIS','1250000000000',14),(127,'4o THESSALONIKIS','1260000000000',15),(128,'4o THESSALONIKIS','1270000000000',16),(129,'4o THESSALONIKIS','1280000000000',17),(130,'4o THESSALONIKIS','1290000000000',18),(131,'4o THESSALONIKIS','1300000000000',19),(132,'4o THESSALONIKIS','1310000000000',20),(133,'3o BOLOU','1320000000000',8),(134,'3o BOLOU','1330000000000',8),(135,'3o BOLOU','1340000000000',9),(136,'3o BOLOU','1350000000000',9),(137,'3o BOLOU','1360000000000',9),(138,'3o BOLOU','1370000000000',8),(139,'3o BOLOU','1380000000000',6),(140,'3o BOLOU','1390000000000',9),(141,'3o BOLOU','1400000000000',8),(142,'3o BOLOU','1410000000000',9),(143,'1o ATHINON','1420000000000',15),(144,'1o ATHINON','1430000000000',17),(145,'1o ATHINON','1440000000000',8),(146,'1o ATHINON','1450000000000',15),(147,'1o ATHINON','1460000000000',16),(148,'1o ATHINON','1470000000000',12),(149,'1o ATHINON','1480000000000',13),(150,'1o ATHINON','1490000000000',14),(151,'1o ATHINON','1500000000000',15),(152,'1o ATHINON','1510000000000',15),(153,'1o ATHINON','1520000000000',16),(154,'1o ATHINON','1530000000000',17),(155,'1o ATHINON','1540000000000',6),(156,'1o ATHINON','1550000000000',7),(157,'1o ATHINON','1560000000000',7),(158,'1o ATHINON','1570000000000',5),(159,'1o ATHINON','1580000000000',7),(160,'1o ATHINON','1590000000000',6),(161,'1o ATHINON','1600000000000',7),(162,'1o ATHINON','1610000000000',11),(163,'1o ATHINON','1620000000000',12),(164,'4o THESSALONIKIS','1630000000000',15),(165,'4o THESSALONIKIS','1640000000000',16),(166,'4o THESSALONIKIS','1650000000000',17),(167,'4o THESSALONIKIS','1660000000000',18),(168,'4o THESSALONIKIS','1670000000000',19),(169,'4o THESSALONIKIS','1680000000000',20),(170,'4o THESSALONIKIS','1690000000000',21),(171,'3o BOLOU','1700000000000',20),(172,'3o BOLOU','1710000000000',6),(173,'3o BOLOU','1720000000000',10),(174,'3o BOLOU','1730000000000',12),(175,'3o BOLOU','1740000000000',18),(176,'3o BOLOU','1750000000000',13),(177,'3o BOLOU','1760000000000',15),(178,'3o BOLOU','1770000000000',16),(179,'3o BOLOU','1780000000000',17),(180,'3o BOLOU','1790000000000',13),(181,'3o BOLOU','1800000000000',12),(182,'3o BOLOU','1810000000000',11),(183,'3o BOLOU','1820000000000',10),(184,'3o BOLOU','1830000000000',9),(185,'3o BOLOU','1840000000000',14),(186,'3o BOLOU','1850000000000',10),(187,'3o BOLOU','1860000000000',11),(188,'3o BOLOU','1870000000000',10),(189,'3o BOLOU','1880000000000',9),(190,'3o BOLOU','1890000000000',11),(191,'3o BOLOU','1900000000000',12),(192,'3o BOLOU','1910000000000',11),(193,'3o BOLOU','1920000000000',12),(194,'3o BOLOU','1930000000000',11),(195,'3o BOLOU','1940000000000',6),(196,'3o BOLOU','1950000000000',5),(197,'3o BOLOU','1960000000000',2),(198,'3o BOLOU','1970000000000',3),(199,'3o BOLOU','1980000000000',2),(200,'3o BOLOU','1990000000000',2),(201,'3o BOLOU','2000000000000',4),(202,'3o BOLOU','2010000000000',5),(203,'1o ATHINON','1618000000000',1);
/*!40000 ALTER TABLE `belongs_to` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `update_nmbr_of_copies` AFTER INSERT ON `belongs_to` FOR EACH ROW BEGIN
    UPDATE books
    SET nmbr_of_copies = (SELECT SUM(nmbr_of_copies_per_school) FROM belongs_to WHERE isbn = NEW.isbn)
    WHERE isbn = NEW.isbn;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `book_author`
--

DROP TABLE IF EXISTS `book_author`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `book_author` (
  `book_author_id` int(11) NOT NULL AUTO_INCREMENT,
  `isbn` varchar(13) NOT NULL,
  `author_id` int(11) NOT NULL,
  PRIMARY KEY (`book_author_id`),
  KEY `book_author_ibfk_1` (`isbn`),
  KEY `book_author_ibfk_2` (`author_id`),
  CONSTRAINT `book_author_ibfk_1` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE,
  CONSTRAINT `book_author_ibfk_2` FOREIGN KEY (`author_id`) REFERENCES `authors` (`author_id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=170 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `book_author`
--

LOCK TABLES `book_author` WRITE;
/*!40000 ALTER TABLE `book_author` DISABLE KEYS */;
INSERT INTO `book_author` VALUES (1,'1010000000000',1),(2,'1020000000000',2),(3,'1030000000000',3),(4,'1040000000000',4),(5,'1050000000000',5),(6,'1060000000000',6),(7,'1070000000000',7),(8,'1080000000000',8),(9,'1090000000000',9),(10,'1100000000000',10),(11,'1110000000000',11),(12,'1120000000000',12),(13,'1130000000000',13),(14,'1140000000000',14),(15,'1150000000000',15),(16,'1160000000000',16),(17,'1170000000000',17),(18,'1180000000000',18),(19,'1190000000000',19),(20,'1200000000000',20),(21,'1210000000000',21),(22,'1220000000000',22),(23,'1230000000000',23),(24,'1240000000000',24),(25,'1250000000000',25),(26,'1260000000000',26),(27,'1270000000000',27),(28,'1280000000000',28),(29,'1290000000000',29),(30,'1300000000000',30),(31,'1310000000000',31),(32,'1320000000000',32),(33,'1330000000000',33),(34,'1340000000000',34),(35,'1350000000000',35),(36,'1360000000000',36),(37,'1370000000000',37),(38,'1380000000000',38),(39,'1390000000000',39),(40,'1400000000000',40),(41,'1410000000000',41),(42,'1420000000000',42),(43,'1430000000000',43),(44,'1440000000000',44),(45,'1450000000000',45),(46,'1460000000000',46),(47,'1470000000000',47),(48,'1480000000000',48),(49,'1490000000000',49),(50,'1500000000000',50),(51,'1510000000000',51),(52,'1520000000000',52),(53,'1530000000000',53),(54,'1540000000000',54),(55,'1550000000000',55),(56,'1560000000000',56),(57,'1570000000000',57),(58,'1580000000000',58),(59,'1590000000000',59),(60,'1600000000000',60),(61,'1610000000000',61),(62,'1620000000000',62),(63,'1630000000000',63),(64,'1640000000000',64),(65,'1650000000000',65),(66,'1660000000000',66),(67,'1670000000000',67),(68,'1680000000000',68),(69,'1690000000000',69),(70,'1700000000000',70),(71,'1710000000000',71),(72,'1720000000000',72),(73,'1730000000000',73),(74,'1740000000000',74),(75,'1750000000000',75),(76,'1760000000000',1),(77,'1770000000000',2),(78,'1780000000000',3),(79,'1790000000000',4),(80,'1800000000000',5),(81,'1810000000000',6),(82,'1820000000000',7),(83,'1830000000000',8),(84,'1840000000000',9),(85,'1850000000000',10),(86,'1860000000000',11),(87,'1870000000000',12),(88,'1880000000000',13),(89,'1890000000000',14),(90,'1900000000000',15),(91,'1910000000000',16),(92,'1920000000000',43),(93,'1930000000000',44),(94,'1940000000000',45),(95,'1950000000000',46),(96,'1960000000000',47),(97,'1970000000000',48),(98,'1980000000000',49),(99,'1990000000000',50),(100,'2000000000000',51),(101,'2010000000000',52),(102,'1010000000000',53),(103,'1020000000000',54),(104,'1030000000000',55),(105,'1040000000000',56),(106,'1050000000000',57),(107,'1060000000000',58),(108,'1070000000000',59),(109,'1080000000000',60),(110,'1090000000000',61),(111,'1100000000000',62),(112,'1110000000000',63),(113,'1120000000000',64),(114,'1130000000000',65),(115,'1140000000000',66),(116,'1150000000000',67),(117,'1160000000000',68),(118,'1170000000000',69),(119,'1180000000000',70),(120,'1190000000000',71),(121,'1200000000000',72),(122,'1210000000000',73),(123,'1220000000000',74),(124,'1230000000000',75),(125,'1240000000000',1),(126,'1250000000000',2),(127,'1260000000000',3),(128,'1270000000000',4),(129,'1280000000000',5),(130,'1290000000000',6),(131,'1300000000000',7),(132,'1310000000000',8),(133,'1320000000000',9),(134,'1330000000000',10),(135,'1340000000000',11),(136,'1350000000000',12),(137,'1360000000000',1),(138,'1370000000000',2),(139,'1380000000000',3),(140,'1390000000000',4),(141,'1400000000000',5),(142,'1410000000000',6),(143,'1420000000000',7),(144,'1430000000000',8),(145,'1440000000000',9),(146,'1450000000000',10),(147,'1460000000000',11),(148,'1470000000000',12),(149,'1480000000000',13),(150,'1490000000000',14),(151,'1500000000000',15),(152,'1510000000000',16),(153,'1520000000000',17),(154,'1530000000000',18),(155,'1540000000000',19),(156,'1550000000000',20),(157,'1560000000000',1),(158,'1570000000000',2),(159,'1580000000000',3),(160,'1590000000000',4),(161,'1600000000000',5),(162,'1610000000000',6),(163,'1620000000000',7),(164,'1630000000000',8),(165,'1640000000000',9),(166,'1650000000000',10),(167,'1618000000000',150),(168,'1870000000000',1),(169,'1340000000000',1);
/*!40000 ALTER TABLE `book_author` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `book_genre`
--

DROP TABLE IF EXISTS `book_genre`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `book_genre` (
  `book_genre_id` int(11) NOT NULL AUTO_INCREMENT,
  `isbn` varchar(13) NOT NULL,
  `genre_id` int(11) NOT NULL,
  PRIMARY KEY (`book_genre_id`),
  KEY `book_genre_ibfk_1` (`isbn`),
  KEY `book_genre_ibfk_2` (`genre_id`),
  CONSTRAINT `book_genre_ibfk_1` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE,
  CONSTRAINT `book_genre_ibfk_2` FOREIGN KEY (`genre_id`) REFERENCES `genres` (`genre_id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `book_genre`
--

LOCK TABLES `book_genre` WRITE;
/*!40000 ALTER TABLE `book_genre` DISABLE KEYS */;
INSERT INTO `book_genre` VALUES (1,'1010000000000',1),(2,'1020000000000',2),(3,'1030000000000',3),(4,'1040000000000',4),(5,'1050000000000',5),(6,'1060000000000',6),(7,'1070000000000',7),(8,'1080000000000',8),(9,'1090000000000',9),(10,'1100000000000',10),(11,'1110000000000',11),(12,'1120000000000',12),(13,'1130000000000',13),(14,'1140000000000',14),(15,'1150000000000',15),(16,'1160000000000',16),(17,'1170000000000',17),(18,'1180000000000',18),(19,'1190000000000',19),(20,'1200000000000',20),(21,'1210000000000',21),(22,'1220000000000',22),(23,'1230000000000',23),(24,'1240000000000',24),(25,'1250000000000',25),(26,'1260000000000',26),(27,'1270000000000',27),(28,'1280000000000',28),(29,'1290000000000',29),(30,'1300000000000',30),(31,'1310000000000',31),(32,'1320000000000',32),(33,'1330000000000',33),(34,'1340000000000',34),(35,'1350000000000',35),(36,'1360000000000',36),(37,'1370000000000',37),(38,'1380000000000',38),(39,'1390000000000',39),(40,'1400000000000',40),(41,'1410000000000',41),(42,'1420000000000',42),(43,'1430000000000',43),(44,'1440000000000',44),(45,'1450000000000',45),(46,'1460000000000',46),(47,'1470000000000',47),(48,'1480000000000',48),(49,'1490000000000',49),(50,'1500000000000',50),(51,'1510000000000',1),(52,'1520000000000',2),(53,'1530000000000',3),(54,'1540000000000',4),(55,'1550000000000',5),(56,'1560000000000',6),(57,'1570000000000',7),(58,'1580000000000',8),(59,'1590000000000',9),(60,'1600000000000',10),(61,'1610000000000',11),(62,'1620000000000',12),(63,'1630000000000',13),(64,'1640000000000',14),(65,'1650000000000',15),(66,'1660000000000',16),(67,'1670000000000',17),(68,'1680000000000',18),(69,'1690000000000',19),(70,'1700000000000',20),(71,'1710000000000',21),(72,'1720000000000',22),(73,'1730000000000',23),(74,'1740000000000',24),(75,'1750000000000',25),(76,'1760000000000',26),(77,'1770000000000',27),(78,'1780000000000',28),(79,'1790000000000',29),(80,'1800000000000',30),(81,'1810000000000',31),(82,'1820000000000',32),(83,'1830000000000',33),(84,'1840000000000',34),(85,'1850000000000',35),(86,'1860000000000',36),(87,'1870000000000',37),(88,'1880000000000',38),(89,'1890000000000',39),(90,'1900000000000',40),(91,'1910000000000',41),(92,'1920000000000',42),(93,'1930000000000',43),(94,'1940000000000',44),(95,'1950000000000',45),(96,'1960000000000',46),(97,'1970000000000',47),(98,'1980000000000',48),(99,'1990000000000',49),(100,'2000000000000',50),(101,'2010000000000',1),(102,'1010000000000',12),(103,'1020000000000',13),(104,'1030000000000',14),(105,'1040000000000',15),(106,'1050000000000',16),(107,'1060000000000',17),(108,'1070000000000',18),(109,'1080000000000',19),(110,'1090000000000',20),(111,'1100000000000',30),(112,'1110000000000',31),(113,'1120000000000',32),(114,'1130000000000',33),(115,'1140000000000',34),(116,'1150000000000',35),(117,'1160000000000',36),(118,'1170000000000',37),(119,'1180000000000',38),(120,'1190000000000',39),(121,'1200000000000',40),(122,'1210000000000',41),(123,'1220000000000',42),(124,'1230000000000',43),(125,'1240000000000',44),(126,'1250000000000',45),(127,'1260000000000',46),(128,'1270000000000',47),(129,'1280000000000',48),(130,'1290000000000',49),(131,'1300000000000',50),(132,'1310000000000',1),(133,'1320000000000',2),(134,'1330000000000',3),(135,'1340000000000',4),(136,'1350000000000',5),(137,'1360000000000',6),(138,'1370000000000',7),(139,'1380000000000',8),(140,'1390000000000',9),(141,'1400000000000',10),(142,'1410000000000',11),(143,'1420000000000',12),(144,'1430000000000',13),(145,'1440000000000',14),(146,'1450000000000',15),(147,'1460000000000',16),(148,'1470000000000',17),(149,'1480000000000',18),(150,'1618000000000',40);
/*!40000 ALTER TABLE `book_genre` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `book_key_words`
--

DROP TABLE IF EXISTS `book_key_words`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `book_key_words` (
  `book_key_word_id` int(11) NOT NULL AUTO_INCREMENT,
  `isbn` varchar(13) NOT NULL,
  `key_word_id` int(11) NOT NULL,
  PRIMARY KEY (`book_key_word_id`),
  KEY `book_key_words_ibfk_1` (`isbn`),
  KEY `book_key_words_ibfk_2` (`key_word_id`),
  CONSTRAINT `book_key_words_ibfk_1` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE,
  CONSTRAINT `book_key_words_ibfk_2` FOREIGN KEY (`key_word_id`) REFERENCES `key_word` (`key_word_id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=353 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `book_key_words`
--

LOCK TABLES `book_key_words` WRITE;
/*!40000 ALTER TABLE `book_key_words` DISABLE KEYS */;
INSERT INTO `book_key_words` VALUES (1,'1010000000000',3),(2,'1020000000000',4),(3,'1030000000000',5),(4,'1040000000000',6),(5,'1050000000000',7),(6,'1060000000000',8),(7,'1070000000000',9),(8,'1080000000000',10),(9,'1090000000000',11),(10,'1100000000000',12),(11,'1110000000000',13),(12,'1120000000000',14),(13,'1130000000000',15),(14,'1140000000000',16),(15,'1150000000000',17),(16,'1160000000000',18),(17,'1170000000000',19),(18,'1180000000000',20),(19,'1190000000000',21),(20,'1200000000000',22),(21,'1210000000000',23),(22,'1220000000000',24),(23,'1230000000000',25),(24,'1240000000000',26),(25,'1250000000000',27),(26,'1260000000000',28),(27,'1270000000000',29),(28,'1280000000000',30),(29,'1290000000000',31),(30,'1300000000000',32),(31,'1310000000000',33),(32,'1320000000000',34),(33,'1330000000000',35),(34,'1340000000000',36),(35,'1350000000000',37),(36,'1360000000000',38),(37,'1370000000000',39),(38,'1380000000000',40),(39,'1390000000000',41),(40,'1400000000000',42),(41,'1410000000000',43),(42,'1420000000000',44),(43,'1430000000000',45),(44,'1440000000000',46),(45,'1450000000000',47),(46,'1460000000000',48),(47,'1470000000000',49),(48,'1480000000000',50),(49,'1490000000000',51),(50,'1500000000000',52),(51,'1510000000000',53),(52,'1520000000000',54),(53,'1530000000000',55),(54,'1540000000000',56),(55,'1550000000000',57),(56,'1560000000000',58),(57,'1570000000000',59),(58,'1580000000000',60),(59,'1590000000000',61),(60,'1600000000000',62),(61,'1610000000000',63),(62,'1620000000000',64),(63,'1630000000000',65),(64,'1640000000000',66),(65,'1650000000000',67),(66,'1660000000000',68),(67,'1670000000000',69),(68,'1680000000000',70),(69,'1690000000000',71),(70,'1700000000000',72),(71,'1710000000000',73),(72,'1720000000000',74),(73,'1730000000000',75),(74,'1740000000000',76),(75,'1750000000000',77),(76,'1760000000000',78),(77,'1770000000000',79),(78,'1780000000000',80),(79,'1790000000000',81),(80,'1800000000000',82),(81,'1810000000000',83),(82,'1820000000000',84),(83,'1830000000000',85),(84,'1840000000000',86),(85,'1850000000000',87),(86,'1860000000000',88),(87,'1870000000000',89),(88,'1880000000000',90),(89,'1890000000000',91),(90,'1900000000000',92),(91,'1910000000000',93),(92,'1920000000000',94),(93,'1930000000000',95),(94,'1940000000000',96),(95,'1950000000000',97),(96,'1960000000000',98),(97,'1970000000000',99),(98,'1980000000000',100),(99,'1990000000000',101),(100,'2000000000000',102),(101,'2010000000000',103),(102,'1010000000000',104),(103,'1020000000000',105),(104,'1030000000000',106),(105,'1040000000000',107),(106,'1050000000000',108),(107,'1060000000000',109),(108,'1070000000000',110),(109,'1080000000000',111),(110,'1090000000000',112),(111,'1100000000000',113),(112,'1110000000000',114),(113,'1120000000000',115),(114,'1130000000000',116),(115,'1140000000000',117),(116,'1150000000000',118),(117,'1160000000000',119),(118,'1170000000000',120),(119,'1180000000000',121),(120,'1190000000000',122),(121,'1200000000000',123),(122,'1210000000000',124),(123,'1220000000000',125),(124,'1230000000000',126),(125,'1240000000000',127),(126,'1250000000000',128),(127,'1260000000000',129),(128,'1270000000000',130),(129,'1280000000000',131),(130,'1290000000000',132),(131,'1300000000000',133),(132,'1310000000000',134),(133,'1320000000000',135),(134,'1330000000000',136),(135,'1340000000000',137),(136,'1350000000000',138),(137,'1360000000000',139),(138,'1370000000000',140),(139,'1380000000000',141),(140,'1390000000000',142),(141,'1400000000000',143),(142,'1410000000000',144),(143,'1420000000000',145),(144,'1430000000000',146),(145,'1440000000000',147),(146,'1450000000000',148),(147,'1460000000000',149),(148,'1470000000000',150),(149,'1480000000000',151),(150,'1490000000000',152),(151,'1500000000000',153),(152,'1510000000000',154),(153,'1520000000000',155),(154,'1530000000000',156),(155,'1540000000000',157),(156,'1550000000000',158),(157,'1560000000000',159),(158,'1570000000000',160),(159,'1580000000000',161),(160,'1590000000000',162),(161,'1600000000000',163),(162,'1610000000000',164),(163,'1620000000000',165),(164,'1630000000000',166),(165,'1640000000000',167),(166,'1650000000000',168),(167,'1660000000000',169),(168,'1670000000000',170),(169,'1680000000000',171),(170,'1690000000000',172),(171,'1700000000000',173),(172,'1710000000000',174),(173,'1720000000000',175),(174,'1730000000000',176),(175,'1740000000000',177),(176,'1750000000000',3),(177,'1760000000000',4),(178,'1770000000000',5),(179,'1780000000000',6),(180,'1790000000000',7),(181,'1800000000000',8),(182,'1810000000000',9),(183,'1820000000000',10),(184,'1830000000000',11),(185,'1840000000000',12),(186,'1850000000000',13),(187,'1860000000000',14),(188,'1870000000000',15),(189,'1880000000000',16),(190,'1890000000000',17),(191,'1900000000000',18),(192,'1910000000000',19),(193,'1920000000000',20),(194,'1930000000000',21),(195,'1940000000000',22),(196,'1950000000000',23),(197,'1960000000000',24),(198,'1970000000000',25),(199,'1980000000000',26),(200,'1990000000000',27),(201,'2000000000000',28),(202,'2010000000000',29),(203,'1010000000000',30),(204,'1020000000000',31),(205,'1030000000000',32),(206,'1040000000000',33),(207,'1050000000000',34),(208,'1060000000000',35),(209,'1070000000000',36),(210,'1080000000000',37),(211,'1090000000000',38),(212,'1100000000000',39),(213,'1110000000000',40),(214,'1120000000000',41),(215,'1130000000000',42),(216,'1140000000000',43),(217,'1150000000000',44),(218,'1160000000000',45),(219,'1170000000000',46),(220,'1180000000000',47),(221,'1190000000000',48),(222,'1200000000000',49),(223,'1210000000000',50),(224,'1220000000000',51),(225,'1230000000000',52),(226,'1240000000000',167),(227,'1250000000000',168),(228,'1260000000000',169),(229,'1270000000000',170),(230,'1280000000000',171),(231,'1290000000000',172),(232,'1300000000000',173),(233,'1310000000000',174),(234,'1320000000000',175),(235,'1330000000000',176),(236,'1340000000000',177),(237,'1350000000000',3),(238,'1360000000000',4),(239,'1370000000000',5),(240,'1380000000000',6),(241,'1390000000000',7),(242,'1400000000000',8),(243,'1410000000000',9),(244,'1420000000000',10),(245,'1430000000000',11),(246,'1440000000000',12),(247,'1450000000000',13),(248,'1460000000000',14),(249,'1470000000000',15),(250,'1480000000000',16),(251,'1490000000000',17),(252,'1500000000000',18),(253,'1510000000000',19),(254,'1520000000000',20),(255,'1530000000000',21),(256,'1540000000000',22),(257,'1550000000000',23),(258,'1560000000000',24),(259,'1570000000000',25),(260,'1580000000000',26),(261,'1590000000000',27),(262,'1600000000000',28),(263,'1610000000000',29),(264,'1620000000000',30),(265,'1630000000000',31),(266,'1640000000000',32),(267,'1650000000000',33),(268,'1660000000000',34),(269,'1670000000000',35),(270,'1680000000000',36),(271,'1690000000000',37),(272,'1700000000000',38),(273,'1710000000000',39),(274,'1720000000000',40),(275,'1730000000000',41),(276,'1740000000000',42),(277,'1750000000000',43),(278,'1760000000000',44),(279,'1770000000000',45),(280,'1780000000000',46),(281,'1790000000000',47),(282,'1800000000000',48),(283,'1810000000000',49),(284,'1820000000000',50),(285,'1830000000000',65),(286,'1840000000000',66),(287,'1850000000000',67),(288,'1860000000000',68),(289,'1870000000000',69),(290,'1880000000000',70),(291,'1890000000000',71),(292,'1900000000000',72),(293,'1910000000000',73),(294,'1920000000000',74),(295,'1930000000000',75),(296,'1940000000000',76),(297,'1950000000000',77),(298,'1960000000000',78),(299,'1970000000000',79),(300,'1980000000000',80),(301,'1990000000000',81),(302,'2000000000000',82),(303,'2010000000000',83),(304,'1530000000000',84),(305,'1540000000000',85),(306,'1550000000000',86),(307,'1560000000000',87),(308,'1570000000000',88),(309,'1580000000000',89),(310,'1590000000000',90),(311,'1600000000000',91),(312,'1610000000000',92),(313,'1620000000000',93),(314,'1630000000000',94),(315,'1640000000000',95),(316,'1650000000000',96),(317,'1660000000000',97),(318,'1670000000000',98),(319,'1680000000000',99),(320,'1690000000000',100),(321,'1700000000000',110),(322,'1710000000000',111),(323,'1720000000000',112),(324,'1730000000000',113),(325,'1740000000000',114),(326,'1750000000000',115),(327,'1760000000000',116),(328,'1770000000000',117),(329,'1780000000000',118),(330,'1790000000000',119),(331,'1800000000000',120),(332,'1810000000000',121),(333,'1820000000000',122),(334,'1830000000000',123),(335,'1840000000000',124),(336,'1850000000000',125),(337,'1860000000000',126),(338,'1870000000000',127),(339,'1880000000000',128),(340,'1890000000000',129),(341,'1900000000000',130),(342,'1910000000000',131),(343,'1920000000000',132),(344,'1930000000000',133),(345,'1940000000000',134),(346,'1950000000000',135),(347,'1960000000000',136),(348,'1970000000000',137),(349,'1980000000000',138),(350,'1990000000000',139),(351,'2000000000000',140),(352,'2010000000000',141);
/*!40000 ALTER TABLE `book_key_words` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `booking`
--

DROP TABLE IF EXISTS `booking`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `booking` (
  `booking_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) NOT NULL,
  `isbn` varchar(13) NOT NULL,
  `booking_date` date NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`booking_id`),
  KEY `booking_ibfk_1` (`id`),
  KEY `booking_ibfk_2` (`isbn`),
  KEY `booking_date` (`booking_date`),
  CONSTRAINT `booking_ibfk_1` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `booking_ibfk_2` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=74 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `booking`
--

LOCK TABLES `booking` WRITE;
/*!40000 ALTER TABLE `booking` DISABLE KEYS */;
INSERT INTO `booking` VALUES (30,101000000,'1020000000000','2023-06-01'),(31,102000000,'1020000000000','2023-06-01'),(32,103000000,'1020000000000','2023-06-01'),(33,104000000,'1020000000000','2023-06-01'),(34,105000000,'1060000000000','2023-06-01'),(35,107000000,'1060000000000','2023-06-01'),(36,108000000,'1060000000000','2023-06-01'),(37,109000000,'1060000000000','2023-06-01'),(38,110000000,'1190000000000','2023-06-01'),(39,111000000,'1190000000000','2023-06-01'),(40,112000000,'1190000000000','2023-06-01'),(41,113000000,'1190000000000','2023-06-01'),(42,114000000,'1190000000000','2023-06-01'),(43,116000000,'1150000000000','2023-06-01'),(44,117000000,'1150000000000','2023-06-01'),(45,118000000,'1150000000000','2023-06-01'),(46,119000000,'1150000000000','2023-06-01'),(47,120000000,'1150000000000','2023-06-01'),(48,205000000,'1240000000000','2023-06-01'),(49,206000000,'1240000000000','2023-06-01'),(50,207000000,'1240000000000','2023-06-01'),(51,208000000,'1240000000000','2023-06-01'),(52,209000000,'1240000000000','2023-06-01'),(53,210000000,'1240000000000','2023-06-01'),(54,309000000,'1650000000000','2023-06-01'),(55,309000000,'1650000000000','2023-06-01'),(56,412000000,'1860000000000','2023-06-01'),(57,413000000,'1860000000000','2023-06-01'),(58,414000000,'1860000000000','2023-06-01'),(59,415000000,'1860000000000','2023-06-01'),(60,416000000,'1860000000000','2023-06-01'),(61,417000000,'1860000000000','2023-06-01'),(62,418000000,'1860000000000','2023-06-01'),(63,419000000,'1860000000000','2023-06-01'),(64,420000000,'1860000000000','2023-06-01'),(65,421000000,'1860000000000','2023-06-01'),(66,422000000,'2010000000000','2023-06-01'),(67,423000000,'2010000000000','2023-06-01'),(68,424000000,'2010000000000','2023-06-01'),(69,425000000,'2010000000000','2023-06-01'),(70,426000000,'2010000000000','2023-06-01'),(71,427000000,'2010000000000','2023-06-01'),(72,428000000,'2010000000000','2023-06-01'),(73,429000000,'2010000000000','2023-06-01');
/*!40000 ALTER TABLE `booking` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `check_booking_limit_trigger` BEFORE INSERT ON `booking` FOR EACH ROW BEGIN
    DECLARE role INT;
    DECLARE booking_count INT;
    DECLARE books_count INT;
    DECLARE situationship VARCHAR(25);
    DECLARE user_school_name VARCHAR(45);
    
    SELECT name INTO user_school_name
    FROM goes_to WHERE id=NEW.id;
    
    SELECT status INTO situationship
    FROM borrowing
    WHERE id=NEW.id AND status = 'delayed'
    LIMIT 1;
    
    SELECT number, weekly_booking_count INTO role, booking_count
    FROM user
    WHERE id = NEW.id;
    
    SELECT nmbr_of_copies_per_school INTO books_count
    FROM belongs_to
    WHERE isbn=NEW.isbn AND name = user_school_name;
    
    IF situationship = 'delayed' THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot book a book because you have not returned a book in time';
    END IF;
    IF role = 4 OR role = 3 THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot book a book as a manager or handler';
    END IF;
    
    IF EXISTS (
        SELECT 1
        FROM borrowing
        WHERE id = NEW.id AND isbn = NEW.isbn
    ) THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You have already borrowed this book.';
    ELSEIF books_count > 0 THEN 
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'There is a copy of this book in your school unit available.';
    ELSEIF books_count IS NULL THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'There is not this book declared in your school';
    ELSEIF (role = 1 AND booking_count <=0) OR (role = 2 AND booking_count <= 0) THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You have reached the maximum booking limit.';
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `update_booking_count` AFTER INSERT ON `booking` FOR EACH ROW BEGIN
	UPDATE user
    SET weekly_booking_count = weekly_booking_count - 1
    WHERE id = NEW.id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER ` convert_booking_to_borrowing_trigger` BEFORE DELETE ON `booking` FOR EACH ROW BEGIN
    DECLARE copies INT;
    DECLARE user_school_name VARCHAR(45);
    
    SET user_school_name = (SELECT name FROM goes_to WHERE id = OLD.id);
    SET copies = (SELECT nmbr_of_copies_per_school FROM belongs_to WHERE isbn = OLD.isbn AND name = user_school_name);
    
    IF copies > 0 THEN 
        INSERT INTO borrowing (id, isbn, status)
        VALUES (OLD.id, OLD.isbn, 'active');
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `books`
--

DROP TABLE IF EXISTS `books`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `books` (
  `isbn` varchar(13) NOT NULL,
  `title` varchar(45) NOT NULL,
  `publisher` varchar(45) NOT NULL,
  `pages` int(11) NOT NULL,
  `summary` varchar(500) NOT NULL,
  `nmbr_of_copies` int(11) NOT NULL,
  `image` varchar(1000) NOT NULL,
  `language` varchar(45) NOT NULL,
  PRIMARY KEY (`isbn`),
  KEY `title` (`title`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `books`
--

LOCK TABLES `books` WRITE;
/*!40000 ALTER TABLE `books` DISABLE KEYS */;
INSERT INTO `books` VALUES ('1010000000000','The Enigma of Eternity','Infinite Publishing',320,'Explore the timeless mysteries surrounding the concept of eternity. Journey through philosophical musings, scientific discoveries, and spiritual insights as you contemplate the enigmatic nature of time, existence, and the infinite.',15,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1020000000000','The Midnight Chronicles','Shadowfire Books',400,'Venture into a world where darkness and magic intertwine. Follow the thrilling tales of courageous heroes, mythical creatures, and the battle between light and shadow. Prepare for epic adventures, secret societies, and unexpected twists as the Midnight Chronicles unfold.',5,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1030000000000','The Quest for Knowledge','Wisdom Publications',280,'Embark on a quest for wisdom and enlightenment. Discover the pursuit of knowledge across different disciplines, from ancient philosophy to modern science. Dive deep into the mysteries of the universe, unravel the secrets of the mind, and ignite your passion for lifelong learning.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1040000000000','The Silent Symphony','Harmony Books',350,'Enter a world where music transcends words. Experience the power of melodies, harmonies, and rhythms as they evoke emotions, tell stories, and shape cultures. Explore the history, theory, and universal language of music, and discover the symphony that resounds in silence.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1050000000000','The Art of Connection','Linked Press',250,'Unlock the secrets of authentic connections in a digital age. Explore the intricacies of communication, empathy, and human interaction. Learn practical techniques, cultivate meaningful relationships, and bridge the gaps that divide us, ultimately fostering a sense of belonging and understanding.',13,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1060000000000','The Quantum Paradox','Quantum Books',380,'Enter the mind-bending realm of quantum physics and grapple with its paradoxes. Journey from the microscopic world of particles to the mind-expanding concepts of entanglement, superposition, and quantum computing. Unravel the mysteries that challenge our understanding of reality itself.',7,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1070000000000','The Labyrinth of Shadows','Enigmatic Press',420,'Embark on a suspenseful journey through a labyrinth shrouded in darkness and mystery. Join a group of adventurers as they navigate treacherous paths, encounter enigmatic creatures, and unravel the secrets hidden within the shadows. Will they find their way out or be forever lost?',5,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1nKrpny59MOCHFY9ewPN29o3fr-vrAepxhg&usqp=CAU','English'),('1080000000000','The Spark of Creativity','Imagination Ink',300,'Ignite your imagination and unleash your creative potential. Delve into the processes, techniques, and inspirations that fuel creativity across various disciplines. Discover how to overcome creative blocks, nurture innovative thinking, and harness the transformative power of imagination.',10,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1090000000000','The Stellar Odyssey','Cosmos Books',360,'Embark on a breathtaking journey through the cosmos and explore the wonders of the universe. From the birth of stars to the mysteries of black holes, discover the captivating realms beyond our planet and contemplate our place in the vast expanse of space.',5,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_P1uUjSTO9R_dZ2JWVImVk2GD0EFxJLzmiKgirABl9ed_uIZBzujc6fUdRG6h8JmRZZE&usqp=CAU','English'),('1100000000000','The Serendipity Principle','Destiny Books',280,'Embrace the unexpected and harness the power of serendipity in your life. Discover how chance encounters, synchronicities, and fortuitous events can lead to remarkable opportunities and profound transformations. Unlock the serendipitous potential that lies within each moment.',7,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1110000000000','The Secrets of Mindfulness','Harmony House',240,'Uncover the hidden depths of mindfulness and cultivate inner peace and well-being. Dive into mindfulness practices, meditation techniques, and mindful living to alleviate stress, enhance focus, and cultivate a deeper connection with yourself and the world around you.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIju3DElwC8G9wX_5OXhQjUA9SlRlZjyjJ1Q&usqp=CAU','English'),('1120000000000','The Art of Serendipity','Serene Publishing',300,'Explore the beauty and magic of serendipitous moments. Delve into stories of chance encounters, unexpected connections, and fortunate discoveries. Discover how embracing serendipity can bring joy, inspiration, and new possibilities into your life.',9,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1130000000000','The Secrets of Time','Timeless Books',400,'Unlock the mysteries that lie within the fabric of time. Delve into the realms of physics, philosophy, and spirituality as you contemplate the nature of time, its perception, and its profound impact on our lives.',8,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4M9ivjYIFvfc8ZdvJRB9yfO5rLd9DuS4I1g&usqp=CAU','English'),('1140000000000','The Forgotten Realm','Lost Pages Publishing',350,'Enter a world of forgotten legends, mythical creatures, and ancient civilizations. Uncover the secrets of a long-lost realm as you follow the epic quests of heroes and heroines determined to restore balance and reclaim the forgotten glory.',16,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1150000000000','The Mindful Journey','Mindfulness Press',250,'Embark on a transformative journey of self-discovery and inner peace. Learn the art of mindfulness through practical exercises, guided meditations, and profound insights. Cultivate a deeper connection with yourself and the present moment, finding serenity amidst the chaos of everyday life.',5,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1160000000000','The Codebreaker\'s Dilemma','Enigma Books',320,'Dive into the thrilling world of cryptography and espionage. Follow the journey of a brilliant codebreaker facing intricate puzzles, dangerous adversaries, and the ethical dilemmas of their craft. Discover the fine line between duty, loyalty, and the pursuit of truth.',7,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQDbm8eucgp6qRNgqrg3g8_Cln-l-9_XUpxvs8UZqiihX5H5MIAP-5-NnYLUevkbV-YJA8&usqp=CAU','English'),('1170000000000','The Art of Resilience','Inner Strength Publishing',280,'Discover the power of resilience in overcoming life\'s challenges. Explore practical strategies, inspiring stories, and psychological insights that will help you bounce back, adapt, and thrive in the face of adversity. Unleash your inner strength and embrace the art of resilience.',11,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1180000000000','The Lost City','Adventure Press',400,'Embark on a perilous expedition to uncover the secrets of a long-lost civilization. Navigate treacherous jungles, ancient ruins, and mythical creatures as you follow the trail of clues left behind. Prepare to unravel the mysteries that lie within the depths of the forgotten city.',17,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGMjOaH4CIDt7BRXi5GfMU2n_8XvgqKwoSRSqQhzyMygPm482cl7yumvLxc5g1hxBnlOY&usqp=CAU','English'),('1190000000000','The Mindful Entrepreneur','Zenith Publications',320,'Discover a new approach to business and entrepreneurship by integrating mindfulness and conscious leadership. Explore practical techniques, case studies, and mindful practices that will help you cultivate resilience, creativity, and purpose as you build and grow your venture.',23,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1200000000000','The Celestial Odyssey','Stellar Publishing',350,'Embark on a cosmic journey across the vast expanse of the universe. Explore celestial phenomena, ancient myths, and astronomical wonders that have captivated humanity for millennia. Experience the awe and wonder of the celestial odyssey that unveils the mysteries of the cosmos.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1210000000000','The Art of Simplicity','Minimalist Books',250,'Embrace the beauty and tranquility of simplicity in all aspects of life. Discover minimalist principles, decluttering techniques, and mindful practices that will help you simplify your environment, streamline your commitments, and cultivate a more meaningful and fulfilling existence.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCULeFpTRDwgNehnbAB3Hv63vW3uR3rQbjsw&usqp=CAU','English'),('1220000000000','The Art of Solitude','Serene Publications',280,'Delve into the profound journey of solitude and its transformative power. Discover the beauty and insights that arise from embracing solitude, nurturing self-reflection, and finding inner peace in a busy world. Explore the art of being alone while cultivating a deeper connection with oneself and the universe.',23,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1230000000000','The Stellar Conquest','Galaxy Books',450,'Embark on an epic space odyssey as humanity ventures beyond Earth\'s boundaries. Witness interstellar colonization, encounter alien civilizations, and navigate the challenges of intergalactic politics. Join the quest for cosmic conquest and the search for our place among the stars.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1240000000000','The Mindful Explorer','Journey Publications',320,'Embark on a mindful journey through nature\'s wonders. Discover the transformative power of slowing down, being present, and connecting with the natural world. Learn to observe, appreciate, and find solace in the simple yet profound beauty of the earth\'s landscapes and the hidden depths within ourselves.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1250000000000','The Forbidden Tome','Arcane Books',400,'Uncover the secrets hidden within an ancient and forbidden book of forbidden knowledge. Follow a daring protagonist as they navigate treacherous paths, decode cryptic texts, and confront malevolent forces. The forbidden tome holds the key to untold power, but at what cost?',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1260000000000','The Wisdom of Whispers','Whispering Books',300,'Open your heart to the gentle wisdom carried by whispers in the wind. Journey into the realms of intuition, spirituality, and interconnectedness. Listen closely to the whispers of the universe as they guide you toward self-discovery, inner peace, and a deeper understanding of the mysteries of existence.',20,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1270000000000','The Art of Simplicity','Serene Publishing',200,'Discover the beauty and power of simplicity in all aspects of life. Learn to declutter your environment, simplify your routines, and cultivate a minimalist mindset. Embrace the freedom and peace that comes from living a simpler, more intentional life.',21,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1nKrpny59MOCHFY9ewPN29o3fr-vrAepxhg&usqp=CAU','English'),('1280000000000','The Lost Kingdoms','Epic Tales Publishing',450,'Embark on a thrilling adventure to uncover the secrets of ancient civilizations and their lost kingdoms. Journey through time and across continents as you explore archaeological wonders, decipher cryptic clues, and unravel the mysteries of these forgotten realms.',17,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIju3DElwC8G9wX_5OXhQjUA9SlRlZjyjJ1Q&usqp=CAU','English'),('1290000000000','The Mindful Entrepreneur','Inner Balance Books',300,'Learn how to cultivate mindfulness in the fast-paced world of entrepreneurship. Discover the transformative power of mindfulness practices to enhance focus, creativity, and resilience. Unleash your entrepreneurial spirit while maintaining balance, purpose, and well-being in your business journey.',23,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1300000000000','The Stellar Odyssey','Cosmos Publishing',400,'Embark on an awe-inspiring journey through the cosmos and explore the wonders of the universe. Discover celestial phenomena, distant galaxies, and the mysteries of space exploration. Delve into the captivating stories of scientists, astronauts, and the quest to understand our cosmic origins.',25,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1310000000000','The Art of Resilience','Inner Strength Press',250,'Discover the power to bounce back from adversity and thrive in the face of challenges. Explore the art of resilience through inspiring stories, practical strategies, and resilience-building exercises. Develop the inner strength and mindset necessary to navigate life\'s ups and downs with grace and determination.',25,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_P1uUjSTO9R_dZ2JWVImVk2GD0EFxJLzmiKgirABl9ed_uIZBzujc6fUdRG6h8JmRZZE&usqp=CAU','English'),('1320000000000','The Essence of Life','Vitality Books',300,'Delve into the essence of existence and the mysteries of life itself. Explore the realms of biology, consciousness, and the intricate web of interconnectedness that underlies all living things. Dive deep into the science and philosophy of life, uncovering its wonders and contemplating its meaning.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQDbm8eucgp6qRNgqrg3g8_Cln-l-9_XUpxvs8UZqiihX5H5MIAP-5-NnYLUevkbV-YJA8&usqp=CAU','English'),('1330000000000','The Shadow Conspiracy','Obsidian Press',380,'Unravel the dark secrets of a clandestine organization that pulls the strings behind world events. Follow a determined protagonist as they uncover the layers of deception, conspiracy, and betrayal. Brace yourself for high-stakes espionage, thrilling plot twists, and a battle against the shadows that control the world.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4M9ivjYIFvfc8ZdvJRB9yfO5rLd9DuS4I1g&usqp=CAU','English'),('1340000000000','The Renaissance of Creativity','Artisan Books',250,'Ignite your creative spark and unleash the power of imagination. Dive into the history, theory, and practical aspects of creativity across various domains, from art and literature to science and technology. Discover techniques, cultivate inspiration, and embrace the renaissance of your own creative potential.',17,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGMjOaH4CIDt7BRXi5GfMU2n_8XvgqKwoSRSqQhzyMygPm482cl7yumvLxc5g1hxBnlOY&usqp=CAU','English'),('1350000000000','The Power Within','Inner Light Publications',320,'Tap into the limitless power that resides within you. Explore the realms of personal development, mindset, and harnessing your inner strength. Unlock your true potential, cultivate resilience, and embark on a transformative journey toward self-discovery and empowerment.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1360000000000','The Secret Garden','Enchanted Press',280,'Follow the enchanting tale of a hidden garden and the transformative power it holds. Join a young protagonist on a journey of self-discovery, friendship, and the healing forces of nature. Uncover the magic that blooms within the secret garden\'s walls.',14,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1370000000000','The Mind\'s Eye','Insightful Publications',320,'Delve into the depths of human perception and imagination. Explore the mysteries of consciousness, creativity, and the power of visualization. Discover how the mind\'s eye shapes our experiences, fuels innovation, and unlocks the infinite potential of the human mind.',14,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1380000000000','The Lost Expedition','Adventure Press',400,'Embark on a thrilling adventure to uncover the secrets of a long-lost expedition. Join a group of daring explorers as they traverse treacherous landscapes, encounter ancient civilizations, and face unexpected perils. Will they unravel the mysteries of the lost expedition, or become lost themselves?',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1390000000000','The Art of Resilience','Resilient Books',280,'Discover the transformative power of resilience in overcoming adversity and embracing change. Explore practical strategies, inspiring stories, and psychological insights that empower individuals to bounce back, adapt, and thrive in the face of life\'s challenges.',14,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1400000000000','The Alchemist\'s Legacy','Mystical Books',400,'Follow the ancient footsteps of alchemists as they search for the elusive Philosopher\'s Stone. Discover the secrets of transmutation, immortality, and spiritual transformation in this captivating tale of mysticism and alchemical wisdom that spans across centuries.',9,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1410000000000','The Mind\'s Eye','Insightful Publications',280,'Delve into the depths of human perception and cognition. Uncover the intricacies of consciousness, memory, and imagination, and explore the fascinating world of sensory illusions and the power of the mind\'s eye in shaping our reality.',14,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1420000000000','The Enchanted Garden','Whimsical Press',350,'Step into a magical realm where flowers bloom with secrets and nature whispers ancient tales. Explore the enchanting wonders of gardens that captivate the senses, nurture the soul, and inspire the imagination, revealing the profound connection between humans and the natural world.',29,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1430000000000','The Lost Civilization','Ancient Tomes',400,'Embark on an archaeological adventure to uncover the secrets of a long-lost civilization. Traverse ancient ruins, decipher cryptic hieroglyphics, and unravel the mysteries that lie buried beneath the sands of time, revealing the untold history of a forgotten world.',34,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCULeFpTRDwgNehnbAB3Hv63vW3uR3rQbjsw&usqp=CAU','English'),('1440000000000','The Astral Symphony','Celestial Books',320,'Explore the harmonious connection between the cosmos and human consciousness. Journey through the realms of astrology, astronomy, and metaphysics as you uncover the celestial symphony that shapes our lives, connecting us to the vast expanse of the universe.',17,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1450000000000','The Culinary Chronicles','Gourmet Publications',280,'Embark on a gastronomic journey through the world of flavors and culinary traditions. Discover mouthwatering recipes, untold stories of renowned chefs, and the cultural significance of food, as you explore the art, science, and joy of cooking.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1nKrpny59MOCHFY9ewPN29o3fr-vrAepxhg&usqp=CAU','English'),('1460000000000','The Infinite Mind','Boundless Books',350,'Dive into the depths of consciousness and explore the limitless potential of the human mind. Uncover the mysteries of perception, intuition, and creativity, and discover the power within you to expand your horizons, challenge boundaries, and tap into the infinite realms of thought.',23,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_P1uUjSTO9R_dZ2JWVImVk2GD0EFxJLzmiKgirABl9ed_uIZBzujc6fUdRG6h8JmRZZE&usqp=CAU','English'),('1470000000000','The Time Traveler\'s Journal','Temporal Press',250,'Embark on an extraordinary journey through time. Witness historical events, explore different eras, and encounter the unexpected as you navigate the complexities of time travel. Capture your own experiences and reflections in the pages of The Time Traveler\'s Journal.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1480000000000','The Secret of Serenity','Tranquil Books',400,'Discover the path to inner peace and tranquility. Uncover ancient practices, mindfulness techniques, and wisdom from across the world that can guide you towards a calmer and more balanced life. Unlock the secret of serenity and embrace a harmonious existence.',20,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGMjOaH4CIDt7BRXi5GfMU2n_8XvgqKwoSRSqQhzyMygPm482cl7yumvLxc5g1hxBnlOY&usqp=CAU','English'),('1490000000000','The Crimson Crown','Royal Publishing House',320,'Step into a world of intrigue, power, and royal bloodlines. Follow the gripping tale of political rivalries, forbidden love, and the fight for the ultimate symbol of authority - the crimson crown. Experience a captivating journey through a realm where thrones are won and lost.',21,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1500000000000','The Curious Case of Curiosity','Wonder Books',280,'Delve into the depths of curiosity and its profound impact on human exploration and discovery. Explore the curious minds of scientists, artists, and philosophers throughout history and unravel the mysteries of curiosity itself - its origins, benefits, and transformative potential.',39,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIju3DElwC8G9wX_5OXhQjUA9SlRlZjyjJ1Q&usqp=CAU','English'),('1510000000000','The Canvas of Dreams','Imagination Ink',350,'Immerse yourself in a world where dreams and creativity intertwine. Journey through the realms of art, literature, and imagination, exploring the power of dreams to inspire, heal, and shape our lives. Witness the limitless possibilities that unfold on the canvas of dreams.',30,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4M9ivjYIFvfc8ZdvJRB9yfO5rLd9DuS4I1g&usqp=CAU','English'),('1520000000000','The Codebreaker\'s Dilemma','Cryptic Books',250,'Enter the world of cryptology and espionage. Follow the thrilling journey of a brilliant codebreaker who finds themselves entangled in a web of secrets, deception, and moral dilemmas. Uncover the hidden truths and unravel the enigmatic codes that hold the key to their destiny.',33,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1530000000000','The Quantum Labyrinth','Cosmos Press',400,'Explore the mind-bending world of quantum mechanics and its implications for our understanding of reality. Venture into the quantum labyrinth, where particles exist in multiple states, entanglement defies classical intuition, and the mysteries of the universe unfold in awe-inspiring complexity.',36,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1540000000000','The Midnight Masquerade','Enigmatic Books',320,'Step into a world of mystery and intrigue, where secrets are concealed behind elegant masks. Attend the enchanting midnight masquerade, where identities are concealed, and romance and suspense intertwine. Unmask the truth and unveil the hidden desires of the heart.',21,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1550000000000','The Elemental Enigma','Elemental Books',280,'Unlock the secrets of the elemental forces that shape our world. Journey through the realms of fire, water, air, and earth, delving into their ancient wisdom, mystical properties, and profound influence on nature and human existence. Embrace the enigmatic power of the elements.',27,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1560000000000','The Imagination Engine','Boundless Imagination',350,'Unleash the limitless power of your imagination. Explore the creative process, ignite your inspiration, and tap into the depths of your imaginative potential. Discover the keys to unlocking a world of innovation, self-expression, and personal growth with The Imagination Engine.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1570000000000','The Celestial Voyage','Starry Sky Publishing',250,'Embark on a celestial voyage through the vast expanse of the universe. Witness the beauty of distant galaxies, explore cosmic phenomena, and ponder the profound questions about our place in the cosmos. Experience the awe and wonder of The Celestial Voyage.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1580000000000','The Serendipity Effect','Serendipitous Books',400,'Explore the fascinating world of serendipity, where chance encounters, unexpected connections, and fortunate accidents shape our lives in meaningful ways. Discover the hidden magic of synchronicity and the power of being open to the unexpected. Embrace the serendipity effect and invite more wonder into your life.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1590000000000','The Chronicles of Eternity','Timeless Publications',320,'Dive into a timeless saga that spans across the ages. Uncover the tales of heroes and villains, mythical creatures and epic battles that shape the destiny of worlds. Experience the breathtaking journey through The Chronicles of Eternity, where adventure and destiny collide.',20,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1600000000000','The Mindful Explorer','Zenith Books',250,'Embark on a mindful exploration of the world around you. Learn to cultivate presence, deepen your connection with nature, and discover the profound beauty and wisdom that can be found in the simplest of moments. Become a mindful explorer and unlock the treasures of mindful living.',20,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1610000000000','The Alchemist\'s Legacy','Mystical Press',400,'Embark on a mystical journey through the world of alchemy. Uncover the ancient wisdom, magical rituals, and transformative powers that lie within the alchemist\'s legacy. Discover the secrets of transmutation and the pursuit of the philosopher\'s stone.',29,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQDbm8eucgp6qRNgqrg3g8_Cln-l-9_XUpxvs8UZqiihX5H5MIAP-5-NnYLUevkbV-YJA8&usqp=CAU','English'),('1618000000000','Whispers of the Heart','Psychogios',345,'Whispers of the Heart\" is a captivating love story that delves into the depths of human emotions and the power of true love. Set in a picturesque coastal town, the novel follows the enchanting journey of Sarah and Ethan, two souls destined to be together.\r\n\r\nSarah, a spirited and independent woman, has always believed in the magic of love. Ethan, a charming and introspective artist, carries a mysterious past that haunts him. When their paths intertwine, an undeniable connection is formed, transc',1,'https://images.app.goo.gl/rzH3GphSKZa2ozaV8','english'),('1620000000000','The Forgotten Prophecy','Enigmatic Books',320,'Enter a world of ancient prophecies, lost civilizations, and forgotten magic. Follow the journey of a chosen few as they unravel the clues left behind by the ages. Uncover the truth hidden within The Forgotten Prophecy and determine the fate of a world in peril.',25,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1630000000000','The Artisan\'s Craft','Creative Works',280,'Dive into the world of craftsmanship and artistic expression. Discover the skills, techniques, and stories of artisans from various disciplines, who create stunning works of beauty and inspire with their dedication and passion. Delve into The Artisan\'s Craft and ignite your own creative spirit.',28,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1nKrpny59MOCHFY9ewPN29o3fr-vrAepxhg&usqp=CAU','English'),('1640000000000','The Essence of Gratitude','Grateful Heart Publishing',250,'Discover the transformative power of gratitude. Learn to cultivate a grateful mindset, express appreciation, and find joy in the simple moments of life. Explore The Essence of Gratitude and unlock the abundance and happiness that gratitude can bring.',28,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1650000000000','The Enigma Code','Cipher Books',400,'Step into the world of cryptography and espionage. Unravel the mysteries of The Enigma Code, a complex encryption system that has baffled codebreakers throughout history. Follow the thrilling journey of those who dared to crack the code and change the course of war.',17,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1660000000000','The Whimsical Garden','Enchanted Press',320,'Enter a magical realm of enchanting flora and fauna. Explore The Whimsical Garden, a place where imagination blooms, and whimsy dances in every petal. Discover the beauty, joy, and transformative power of nature\'s wonderland.',18,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCULeFpTRDwgNehnbAB3Hv63vW3uR3rQbjsw&usqp=CAU','English'),('1670000000000','The Mindfulness Manifesto','Zenith Publishing',280,'Embrace the transformative practice of mindfulness. Discover the power of living in the present moment, cultivating awareness, and finding inner peace. The Mindfulness Manifesto offers practical guidance and insights to help you integrate mindfulness into your daily life.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGMjOaH4CIDt7BRXi5GfMU2n_8XvgqKwoSRSqQhzyMygPm482cl7yumvLxc5g1hxBnlOY&usqp=CAU','English'),('1680000000000','The Time Traveler\'s Journal','Temporal Books',350,'Dive into the fascinating world of time travel. Join The Time Traveler\'s Journal and embark on thrilling adventures across the ages. Explore historical events, encounter famous figures, and navigate the complexities of altering the course of history.',33,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1690000000000','The Songbird\'s Melody','Harmonious Publishing',250,'Immerse yourself in the world of music and melodic enchantment. Follow The Songbird\'s Melody and discover the power of music to heal, inspire, and unite. Explore the captivating stories of musicians, composers, and the magic that resides within each note.',37,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_P1uUjSTO9R_dZ2JWVImVk2GD0EFxJLzmiKgirABl9ed_uIZBzujc6fUdRG6h8JmRZZE&usqp=CAU','English'),('1700000000000','The Secret Atlas','Mystery Books',400,'Uncover the hidden secrets of The Secret Atlas, a mysterious map said to lead to untold treasures and ancient civilizations. Follow the daring explorers who embark on a perilous quest across uncharted lands, where danger and adventure await at every turn.',37,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1710000000000','The Spark of Imagination','Creative Minds Publishing',320,'Ignite your creative spark with The Spark of Imagination. Discover techniques and insights to unlock your artistic potential, fuel your imagination, and express your unique voice through various creative mediums. Embrace the transformative power of creativity.',15,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4M9ivjYIFvfc8ZdvJRB9yfO5rLd9DuS4I1g&usqp=CAU','English'),('1720000000000','The Healing Journey','Harmony Press',280,'Embark on a healing journey of self-discovery and transformation. Explore various holistic practices, ancient wisdom, and mindful techniques to support your physical, emotional, and spiritual well-being. Discover the power of healing and embark on a path of wellness.',18,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1730000000000','The Enchanted Forest','Enchanted Tales Publishing',250,'Venture into The Enchanted Forest, a realm of magic and wonder. Explore mystical creatures, hidden realms, and ancient enchantments that lie within. Experience the whimsical and captivating tales that unfold beneath the enchanted canopy.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1740000000000','The Celestial Prophecy','Stellar Press',400,'Unveil the cosmic secrets hidden within The Celestial Prophecy. Delve into the ancient wisdom of the stars and uncover prophecies that foretell the fate of the universe. Join the chosen few who embark on a celestial journey to restore balance and fulfill their destinies.',33,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1750000000000','The Timeless Odyssey','Eternal Books',280,'Embark on a timeless odyssey that transcends boundaries of time and space. Explore the extraordinary tales of adventure, love, and self-discovery that span across generations. The Timeless Odyssey invites you to journey through lifetimes and unravel the threads of destiny.',28,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIju3DElwC8G9wX_5OXhQjUA9SlRlZjyjJ1Q&usqp=CAU','English'),('1760000000000','The Curiosity Chronicles','Wonder Books',350,'Open the doors of curiosity and embark on a journey of exploration and discovery. The Curiosity Chronicles present captivating stories, intriguing facts, and thought-provoking ideas that inspire a thirst for knowledge. Indulge your curiosity and unlock the wonders of the world.',28,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1770000000000','The Whirlwind Affair','Passionate Reads',250,'Dive into a whirlwind of passion, desire, and unexpected twists. The Whirlwind Affair explores the complexities of love, relationships, and the exhilarating journey of self-discovery. Get swept away in a captivating tale that challenges conventions and ignites the flames of desire.',23,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1780000000000','The Chronicles of Destiny','Epic Tales Publishing',400,'Embark on a thrilling journey through The Chronicles of Destiny, where ancient prophecies, magical realms, and extraordinary beings shape the fate of the world. Join the chosen heroes as they face unimaginable challenges and discover the true power of destiny.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1790000000000','The Art of Mindfulness','Serenity Press',320,'Immerse yourself in the transformative practice of mindfulness. The Art of Mindfulness offers practical techniques, guided meditations, and insightful wisdom to cultivate presence, reduce stress, and embrace the beauty of each moment. Discover inner peace and live with intention.',20,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1800000000000','The Quantum Code','Cosmos Books',280,'Unlock the secrets of The Quantum Code, a groundbreaking encryption system that holds the power to revolutionize technology and reshape the world. Follow the brilliant minds on their quest to harness quantum mechanics and protect the code from those who seek to exploit it.',19,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1810000000000','The Wisdom Within','Enlightened Publications',350,'Journey within and unlock The Wisdom Within. Discover timeless teachings, spiritual insights, and practical guidance to awaken your inner wisdom and live a purposeful life. Explore the depths of your being and uncover the profound truths that reside within.',18,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0wdXTBfZA11R6S4j3oLmY72vDjQDKeYp7HQ&usqp=CAU','English'),('1820000000000','The Enigma of Time','Enigmatic Press',250,'Delve into The Enigma of Time, where past, present, and future intertwine in a mesmerizing dance. Explore the mysteries of time, temporal paradoxes, and the profound implications they hold for our understanding of existence. Prepare to unravel the enigmatic nature of time itself.',25,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1830000000000','The Mindful Path','Harmony Publications',320,'Walk The Mindful Path and cultivate a life of presence and peace. Discover mindfulness practices, meditations, and reflections that enhance your well-being, deepen your relationships, and create a greater sense of connection with yourself and the world around you.',25,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1840000000000','The Quantum Chronicles','Cosmos Press',280,'Explore the frontiers of science and imagination in The Quantum Chronicles. Traverse the boundaries of space and time as you journey through parallel universes, quantum phenomena, and mind-bending realities. Brace yourself for a thrilling adventure through the quantum realm.',28,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCULeFpTRDwgNehnbAB3Hv63vW3uR3rQbjsw&usqp=CAU','English'),('1850000000000','The Path to Enlightenment','Enlightened Books',350,'Embark on The Path to Enlightenment and discover the wisdom of ancient traditions and modern insights. Uncover spiritual practices, transformative teachings, and practical guidance to illuminate your journey and awaken your true self.',22,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGMjOaH4CIDt7BRXi5GfMU2n_8XvgqKwoSRSqQhzyMygPm482cl7yumvLxc5g1hxBnlOY&usqp=CAU','English'),('1860000000000','The Lost Realm','Enigma Books',250,'Venture into The Lost Realm, a world of mystery and forgotten civilizations. Unearth hidden artifacts, decipher ancient texts, and uncover the secrets of a lost realm that holds the key to our understanding of history. Prepare for an epic quest through time and knowledge.',11,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQDbm8eucgp6qRNgqrg3g8_Cln-l-9_XUpxvs8UZqiihX5H5MIAP-5-NnYLUevkbV-YJA8&usqp=CAU','English'),('1870000000000','The Elemental Chronicles','Elemental Books',400,'Immerse yourself in The Elemental Chronicles, a spellbinding tale of magic, adventure, and the elemental forces that shape the world. Follow the chosen heroes as they navigate through treacherous realms, face mythical creatures, and uncover the ancient prophecies that foretell the fate of the elements.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('1880000000000','The Quantum Nexus','Cosmos Books',280,'Dive into The Quantum Nexus, where cutting-edge science meets mind-bending possibilities. Explore the frontiers of quantum physics, delve into the mysteries of consciousness, and unravel the secrets of the quantum realm. Brace yourself for a mind-expanding journey into the nature of reality.',32,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL11bvrYQ3kvrhZ_CCJkngqK3CSVDGEDB4pQ&usqp=CAU','English'),('1890000000000','The Journey Within','Soulful Books',350,'Embark on The Journey Within and embark on a profound exploration of self-discovery and personal transformation. Uncover the hidden depths of your being, cultivate self-awareness, and tap into the infinite potential that resides within. Prepare to embark on a soulful journey of growth.',27,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('1900000000000','The Enchanted Dreamscape','Enchanted Tales Publishing',250,'Step into The Enchanted Dreamscape, where dreams come alive and imagination knows no bounds. Explore the whimsical realms, encounter mythical creatures, and embark on extraordinary adventures that blur the line between reality and fantasy. Prepare to be captivated by the magic that lies within dreams.',26,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIju3DElwC8G9wX_5OXhQjUA9SlRlZjyjJ1Q&usqp=CAU','English'),('1910000000000','The Secret Code','Mystery Books Ltd.',400,'Unravel the mysteries of The Secret Code and embark on a thrilling adventure of cryptic clues, hidden symbols, and ancient riddles. Join the brilliant minds as they race against time to unlock the code\'s secrets and uncover a truth that could change the course of history.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjQkLmk6-M8UYVQUEFKL99bTbdcW2ehI-AOQ&usqp=CAU','English'),('1920000000000','The Power of Gratitude','Positive Living Publications',320,'Discover the transformative power of gratitude. The Power of Gratitude explores the science and practice of cultivating gratitude in daily life. Learn practical techniques, uplifting stories, and evidence-based insights to enhance well-being, foster positive relationships, and cultivate a grateful mindset.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_P1uUjSTO9R_dZ2JWVImVk2GD0EFxJLzmiKgirABl9ed_uIZBzujc6fUdRG6h8JmRZZE&usqp=CAU','English'),('1930000000000','The Path to Serenity','Serene Books',350,'Embark on The Path to Serenity and discover the keys to inner peace and tranquility. Explore mindfulness practices, ancient wisdom, and transformative teachings that empower you to navigate life\'s challenges with grace and presence. Find solace and serenity within.',24,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSURKGjtP8jc8hbjqqBGrnDMEWRGNse-7K4x-SDDNhLBZyVz4qCukHxi-BX2Rx8NYXe240&usqp=CAU','English'),('1940000000000','The Forgotten Chronicles','Enigma Press',250,'Unearth The Forgotten Chronicles and delve into the hidden annals of history. Journey through forgotten civilizations, lost artifacts, and mysterious legends that have faded from memory. Discover the untold stories and unravel the secrets that have been buried in time.',18,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4M9ivjYIFvfc8ZdvJRB9yfO5rLd9DuS4I1g&usqp=CAU','English'),('1950000000000','The Starlight Prophecy','Celestial Books',400,'Unveil the secrets of The Starlight Prophecy and embark on a gripping journey across galaxies. Follow a group of unlikely heroes as they race against time to decode celestial signs, harness cosmic powers, and prevent an ancient prophecy from altering the fate of the universe.',16,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1nKrpny59MOCHFY9ewPN29o3fr-vrAepxhg&usqp=CAU','English'),('1960000000000','The Gratitude Journal','Mindful Living Press',320,'Embrace the practice of gratitude with The Gratitude Journal. This interactive journal offers inspiring prompts, reflection exercises, and space to express gratitude for the blessings in your life. Cultivate a mindset of appreciation and abundance as you embark on a transformative journey.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa3IK-t-aRWLIDs3fh3JdL7CUJqmT64av8mA&usqp=CAU','English'),('1970000000000','The Time Traveler\'s Dilemma','Paradox Books',280,'Explore the complexities of time in The Time Traveler\'s Dilemma. Join the protagonist as they navigate the intricacies of temporal paradoxes, alternate timelines, and the ethical dilemmas of altering history. Brace yourself for a mind-bending adventure that challenges our perception of reality.',16,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1980000000000','The Journey of Self-Discovery','Inner Awakening Publications',350,'Embark on The Journey of Self-Discovery and unlock the secrets of personal growth and fulfillment. Explore introspective practices, transformative teachings, and empowering insights to awaken your true potential. Embrace self-awareness, embrace change, and embark on a path of inner awakening.',21,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English'),('1990000000000','The Chronicles of Atlantis','Enigma Publishing',250,'Immerse yourself in The Chronicles of Atlantis, a captivating saga of a lost civilization and its mystical secrets. Journey to the depths of the ocean, encounter ancient artifacts, and uncover the truth about the fabled city of Atlantis. Prepare for an adventure that will challenge your beliefs and ignite your imagination.',12,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMxncvzO_mqxSBhGIwjqWopCX3T8JnJTNEiw&usqp=CAU','English'),('2000000000000','The Midnight Garden','Moonlight Publications',400,'Step into The Midnight Garden, a place where magic blooms under the moonlit sky. Follow a young protagonist as they navigate a world filled with enchanted flora, hidden realms, and mysterious creatures. Discover the transformative power of nature and the secrets that lie within.',16,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRg_BuPuPbVv32q-jlrUOksMPIkDO5XXU07WQ&usqp=CAU','English'),('2010000000000','The Mindful Life','Serenity Books',320,'Embrace mindfulness and live a more intentional, fulfilling life. The Mindful Life offers practical guidance, insightful reflections, and mindfulness exercises to cultivate presence, resilience, and inner peace. Discover the transformative potential of mindfulness in every aspect of your life.',5,'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-GAhJ0A5S5c7W6pNDGplk2cpdvI3Ky91Rcg&usqp=CAU','English');
/*!40000 ALTER TABLE `books` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `borrowing`
--

DROP TABLE IF EXISTS `borrowing`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `borrowing` (
  `borrowing_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) NOT NULL,
  `isbn` varchar(13) NOT NULL,
  `borrowing_date` date NOT NULL DEFAULT current_timestamp(),
  `status` varchar(25) NOT NULL,
  PRIMARY KEY (`borrowing_id`),
  KEY `borrowing_ibfk_1` (`id`),
  KEY `borrowing_ibfk_2` (`isbn`),
  KEY `borrowing_date` (`borrowing_date`),
  CONSTRAINT `borrowing_ibfk_1` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `borrowing_ibfk_2` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=1903 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `borrowing`
--

LOCK TABLES `borrowing` WRITE;
/*!40000 ALTER TABLE `borrowing` DISABLE KEYS */;
INSERT INTO `borrowing` VALUES (1745,102000000,'1070000000000','2022-04-22','returned'),(1746,103000000,'1080000000000','2022-04-23','returned'),(1747,104000000,'1090000000000','2022-04-24','returned'),(1748,105000000,'1100000000000','2022-04-25','returned'),(1750,107000000,'1070000000000','2022-04-27','returned'),(1751,108000000,'1080000000000','2022-04-28','returned'),(1752,109000000,'1090000000000','2022-04-29','returned'),(1753,110000000,'1100000000000','2022-04-30','returned'),(1754,111000000,'1110000000000','2022-05-01','returned'),(1755,112000000,'1120000000000','2022-05-02','returned'),(1756,113000000,'1130000000000','2022-05-03','returned'),(1757,114000000,'1140000000000','2022-05-04','returned'),(1759,116000000,'1160000000000','2022-05-06','returned'),(1760,117000000,'1170000000000','2022-05-07','returned'),(1761,118000000,'1180000000000','2022-05-08','returned'),(1763,120000000,'1420000000000','2022-05-10','returned'),(1764,121000000,'1430000000000','2023-01-12','returned'),(1765,122000000,'1440000000000','2023-01-13','returned'),(1766,123000000,'1450000000000','2023-01-14','returned'),(1767,124000000,'1460000000000','2023-01-15','returned'),(1768,125000000,'1470000000000','2023-01-16','returned'),(1769,126000000,'1480000000000','2023-01-17','returned'),(1770,127000000,'1490000000000','2023-01-18','returned'),(1771,128000000,'1500000000000','2023-01-19','returned'),(1772,129000000,'1510000000000','2023-01-20','returned'),(1773,130000000,'1520000000000','2023-01-21','returned'),(1774,131000000,'1530000000000','2023-01-22','returned'),(1775,132000000,'1540000000000','2023-01-23','returned'),(1776,133000000,'1550000000000','2023-01-24','returned'),(1777,134000000,'1560000000000','2023-01-25','returned'),(1778,135000000,'1570000000000','2023-01-26','returned'),(1779,150000000,'1580000000000','2023-01-27','returned'),(1780,151000000,'1590000000000','2023-01-28','returned'),(1781,152000000,'1600000000000','2023-01-29','returned'),(1782,153000000,'1610000000000','2023-01-30','returned'),(1783,154000000,'1620000000000','2023-01-31','returned'),(1785,156000000,'1070000000000','2023-02-02','returned'),(1786,157000000,'1080000000000','2023-02-03','returned'),(1787,158000000,'1090000000000','2023-02-04','returned'),(1790,201000000,'1080000000000','2023-02-07','returned'),(1792,203000000,'1100000000000','2023-02-09','returned'),(1807,222000000,'1010000000000','2023-05-08','returned'),(1808,223000000,'1020000000000','2023-05-09','returned'),(1809,224000000,'1030000000000','2023-05-10','returned'),(1810,225000000,'1040000000000','2023-05-11','returned'),(1811,226000000,'1050000000000','2023-05-12','returned'),(1812,227000000,'1060000000000','2023-05-13','returned'),(1813,228000000,'1070000000000','2023-05-14','returned'),(1814,229000000,'1080000000000','2023-05-15','returned'),(1815,230000000,'1090000000000','2023-05-16','returned'),(1816,231000000,'1100000000000','2023-05-17','returned'),(1817,232000000,'1110000000000','2023-05-18','delayed'),(1818,233000000,'1120000000000','2023-05-19','delayed'),(1819,234000000,'1130000000000','2023-05-20','delayed'),(1820,235000000,'1140000000000','2023-05-21','delayed'),(1821,250000000,'1150000000000','2023-06-01','inactive'),(1822,251000000,'1160000000000','2023-06-01','inactive'),(1823,252000000,'1170000000000','2023-06-01','inactive'),(1824,253000000,'1180000000000','2023-06-01','inactive'),(1825,254000000,'1190000000000','2023-06-01','inactive'),(1826,255000000,'1200000000000','2023-06-01','inactive'),(1827,256000000,'1210000000000','2023-06-01','inactive'),(1828,257000000,'1220000000000','2023-06-01','inactive'),(1829,258000000,'1230000000000','2023-06-01','inactive'),(1831,260000000,'1250000000000','2023-06-01','inactive'),(1832,261000000,'1260000000000','2023-06-01','active'),(1833,301000000,'1270000000000','2023-06-01','active'),(1834,303000000,'1290000000000','2023-06-01','active'),(1835,304000000,'1300000000000','2023-06-01','active'),(1836,305000000,'1310000000000','2023-06-01','active'),(1837,306000000,'1320000000000','2023-06-01','active'),(1838,204000000,'1330000000000','2023-06-01','active'),(1839,205000000,'1340000000000','2023-06-01','active'),(1840,206000000,'1350000000000','2023-06-01','active'),(1841,207000000,'1360000000000','2023-06-01','active'),(1842,208000000,'1370000000000','2023-06-01','active'),(1843,209000000,'1380000000000','2023-06-01','active'),(1844,210000000,'1390000000000','2023-06-01','active'),(1845,211000000,'1400000000000','2023-06-01','active'),(1846,212000000,'1410000000000','2023-06-01','active'),(1847,307000000,'1700000000000','2022-04-21','returned'),(1848,308000000,'1710000000000','2022-04-22','returned'),(1849,309000000,'1720000000000','2022-04-23','returned'),(1850,310000000,'1730000000000','2022-04-24','returned'),(1851,311000000,'1740000000000','2022-04-25','returned'),(1852,312000000,'1750000000000','2022-04-26','returned'),(1853,313000000,'1760000000000','2022-04-27','returned'),(1854,314000000,'1770000000000','2022-04-28','returned'),(1855,315000000,'1780000000000','2022-04-29','returned'),(1856,316000000,'1790000000000','2022-04-30','returned'),(1857,317000000,'1800000000000','2022-05-01','returned'),(1858,318000000,'1810000000000','2022-05-02','returned'),(1859,319000000,'1820000000000','2022-05-03','returned'),(1860,320000000,'1830000000000','2022-05-04','returned'),(1861,321000000,'1840000000000','2023-05-10','returned'),(1862,322000000,'1850000000000','2023-05-11','returned'),(1863,323000000,'1860000000000','2023-05-12','returned'),(1864,324000000,'1870000000000','2023-05-13','returned'),(1865,325000000,'1880000000000','2023-05-14','returned'),(1866,326000000,'1890000000000','2023-05-15','returned'),(1867,327000000,'1900000000000','2023-05-16','returned'),(1868,328000000,'1910000000000','2023-05-17','returned'),(1869,329000000,'1920000000000','2023-05-18','returned'),(1870,330000000,'1930000000000','2023-05-19','returned'),(1871,331000000,'1940000000000','2023-05-20','returned'),(1872,332000000,'1950000000000','2023-05-21','returned'),(1873,333000000,'1960000000000','2023-05-22','returned'),(1874,334000000,'1970000000000','2023-05-23','returned'),(1875,335000000,'1980000000000','2023-05-24','returned'),(1876,350000000,'1990000000000','2023-05-25','delayed'),(1877,351000000,'2000000000000','2023-05-26','delayed'),(1878,352000000,'2010000000000','2023-05-27','delayed'),(1879,353000000,'1910000000000','2023-05-28','delayed'),(1880,354000000,'1920000000000','2023-05-29','delayed'),(1881,355000000,'1930000000000','2023-05-30','active'),(1882,356000000,'1940000000000','2023-05-31','active'),(1883,357000000,'1950000000000','2023-06-01','active'),(1884,358000000,'1960000000000','2023-06-01','active'),(1885,359000000,'1970000000000','2023-06-01','active'),(1886,360000000,'1980000000000','2023-06-01','active'),(1887,361000000,'1990000000000','2023-06-01','active'),(1888,401000000,'2000000000000','2023-06-01','active'),(1889,402000000,'2010000000000','2023-06-01','active'),(1890,403000000,'1930000000000','2023-06-01','active'),(1891,404000000,'1940000000000','2023-06-01','active'),(1892,405000000,'1950000000000','2023-06-01','active'),(1893,406000000,'1960000000000','2023-06-01','active'),(1894,407000000,'1970000000000','2023-06-01','inactive'),(1895,406000000,'1980000000000','2023-06-01','inactive'),(1896,407000000,'1990000000000','2023-06-01','inactive'),(1897,310000000,'1640000000000','2023-06-02','active'),(1898,313000000,'1620000000000','2023-06-02','active'),(1899,101000000,'1010000000000','2023-04-21','returned'),(1900,102000000,'1010000000000','2023-04-21','returned'),(1901,103000000,'1010000000000','2023-04-21','returned'),(1902,104000000,'1010000000000','2023-04-21','returned');
/*!40000 ALTER TABLE `borrowing` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `before_insert` BEFORE INSERT ON `borrowing` FOR EACH ROW BEGIN
    DECLARE copies INT;
    DECLARE role INT;
    DECLARE bor_books INT;
    DECLARE situationship VARCHAR(25);
    DECLARE user_school_name VARCHAR(45);
    
    SELECT status INTO situationship
    FROM borrowing
    WHERE id=NEW.id AND status = 'delayed'
    LIMIT 1;
    
    SET role = (SELECT number FROM user WHERE id = NEW.id);
    SET bor_books = (SELECT weekly_borrowing_count FROM user WHERE id = NEW.id);
    SET user_school_name = (SELECT name FROM goes_to WHERE id=NEW.id);
    SET copies = (SELECT nmbr_of_copies_per_school FROM belongs_to WHERE isbn = NEW.isbn AND name = user_school_name );
      IF EXISTS (
        SELECT 1
        FROM borrowing
        WHERE id = NEW.id AND isbn = NEW.isbn AND status='active'
    ) THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You have already borrowed this book.';
        END IF;
      
    IF situationship = 'delayed' THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot borrow a book because you havent returned a book in time.';
    END IF;
    
    
    IF copies IS NULL THEN 
     SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot borrow a book from different school unit.';
     END IF;
    
    
    IF copies = 0 THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'There is not any copies available in your school unit, please book the book.';
     ELSEIF role = 4 OR role = 3 THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot borrow a book as a manager or handler';
    
    ELSEIF (role = 1 AND bor_books = 0) OR (role = 2 AND bor_books = 0) THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You cannot borrow more books.';
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `borrowing-trigger` AFTER INSERT ON `borrowing` FOR EACH ROW BEGIN
DECLARE handler INT;
    
    SET handler = (SELECT id
    FROM handles
    WHERE school_name = (SELECT name FROM goes_to WHERE id = NEW.id));
  UPDATE user 
         SET weekly_borrowing_count = weekly_borrowing_count-1
         WHERE id = NEW.id;
         
        IF NEW.status <> 'inactive' THEN    
        UPDATE handles
        SET borrowings_approved = borrowings_approved + 1
        WHERE id = handler;
  		END IF;
         
         UPDATE books
         SET nmbr_of_copies = nmbr_of_copies - 1
         WHERE isbn = NEW.isbn;
         
         UPDATE belongs_to
         SET nmbr_of_copies_per_school = nmbr_of_copies_per_school - 1
         WHERE (isbn = NEW.isbn) AND (name = (SELECT name FROM goes_to WHERE id = NEW.id));
         
         UPDATE user
         SET nmbr_of_books = nmbr_of_books + 1
         WHERE id = NEW.id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `increase_copies` AFTER UPDATE ON `borrowing` FOR EACH ROW BEGIN
DECLARE handler INT;
    
    SET handler = (SELECT id
    FROM handles
    WHERE school_name = (SELECT name FROM goes_to WHERE id = NEW.id));
    
    IF NEW.status = 'active' AND OLD.status = 'inactive' THEN    
        UPDATE handles
        SET borrowings_approved = borrowings_approved + 1
        WHERE id = handler;
  
    END IF;
    IF NEW.status = 'returned' AND (OLD.status ='active' OR OLD.status='delayed')
    THEN
        UPDATE books SET nmbr_of_copies = nmbr_of_copies + 1         WHERE isbn = NEW.isbn;
UPDATE belongs_to SET nmbr_of_copies_per_school = nmbr_of_copies_per_school +1 WHERE (name = (SELECT name FROM goes_to WHERE id = NEW.id)) AND isbn = NEW.isbn;
    END IF;    
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `genres`
--

DROP TABLE IF EXISTS `genres`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `genres` (
  `genre_id` int(11) NOT NULL AUTO_INCREMENT,
  `genre_name` varchar(50) NOT NULL,
  PRIMARY KEY (`genre_id`),
  KEY `genre_name` (`genre_name`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `genres`
--

LOCK TABLES `genres` WRITE;
/*!40000 ALTER TABLE `genres` DISABLE KEYS */;
INSERT INTO `genres` VALUES (1,'Adventure'),(2,'Archaeology'),(3,'Art'),(4,'Astronomy'),(5,'Business'),(6,'Children\'s Literature'),(7,'Craftsmanship'),(8,'Creativity'),(9,'Culinary'),(10,'Culture'),(11,'Drama'),(12,'Education'),(13,'Espionage'),(14,'Fantasy'),(15,'Fiction'),(16,'Food & Drink'),(17,'Historical Fiction'),(18,'Inspiration'),(19,'Journal'),(20,'Lifestyle'),(21,'Literature'),(22,'Metaphysics'),(23,'Mind & Spirit'),(24,'Mindfulness'),(25,'Minimalism'),(26,'Music'),(27,'Mystery'),(28,'Natural Sciences'),(29,'Nature'),(30,'Neuroscience'),(31,'Non-fiction'),(32,'Occult'),(33,'Personal Development'),(34,'Personal Growth'),(35,'Philosophy'),(36,'Physics'),(37,'Positive Psychology'),(38,'Psychology'),(39,'Relationships'),(40,'Romance'),(41,'Science'),(42,'Science Fiction'),(43,'Self-help'),(44,'Space Exploration'),(45,'Space Opera'),(46,'Spirituality'),(47,'Spy Thriller'),(48,'Thriller'),(49,'Time Travel'),(50,'Wellness');
/*!40000 ALTER TABLE `genres` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `goes_to`
--

DROP TABLE IF EXISTS `goes_to`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `goes_to` (
  `goes_to_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) NOT NULL,
  `name` varchar(45) NOT NULL,
  PRIMARY KEY (`goes_to_id`),
  KEY `goes_to_ibfk_1` (`id`),
  KEY `goes_to_ibfk_2` (`name`),
  CONSTRAINT `goes_to_ibfk_1` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `goes_to_ibfk_2` FOREIGN KEY (`name`) REFERENCES `school_unit` (`school_name`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=188 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `goes_to`
--

LOCK TABLES `goes_to` WRITE;
/*!40000 ALTER TABLE `goes_to` DISABLE KEYS */;
INSERT INTO `goes_to` VALUES (1,101000000,'1o ATHINON'),(2,102000000,'1o ATHINON'),(3,103000000,'1o ATHINON'),(4,104000000,'1o ATHINON'),(5,105000000,'1o ATHINON'),(6,106000000,'1o ATHINON'),(7,107000000,'1o ATHINON'),(8,108000000,'1o ATHINON'),(9,109000000,'1o ATHINON'),(10,110000000,'1o ATHINON'),(11,111000000,'1o ATHINON'),(12,112000000,'1o ATHINON'),(13,113000000,'1o ATHINON'),(14,114000000,'1o ATHINON'),(15,115000000,'1o ATHINON'),(16,116000000,'1o ATHINON'),(17,117000000,'1o ATHINON'),(18,118000000,'1o ATHINON'),(19,119000000,'1o ATHINON'),(20,120000000,'1o ATHINON'),(21,121000000,'1o ATHINON'),(22,122000000,'1o ATHINON'),(23,123000000,'1o ATHINON'),(24,124000000,'1o ATHINON'),(25,125000000,'1o ATHINON'),(26,126000000,'1o ATHINON'),(27,127000000,'1o ATHINON'),(28,128000000,'1o ATHINON'),(29,129000000,'1o ATHINON'),(30,130000000,'1o ATHINON'),(31,131000000,'1o ATHINON'),(32,132000000,'1o ATHINON'),(33,133000000,'1o ATHINON'),(34,134000000,'1o ATHINON'),(35,135000000,'1o ATHINON'),(36,150000000,'1o ATHINON'),(37,151000000,'1o ATHINON'),(38,152000000,'1o ATHINON'),(39,153000000,'1o ATHINON'),(40,154000000,'1o ATHINON'),(41,155000000,'1o ATHINON'),(42,156000000,'1o ATHINON'),(43,157000000,'1o ATHINON'),(44,158000000,'1o ATHINON'),(45,159000000,'1o ATHINON'),(46,160000000,'1o ATHINON'),(47,201000000,'1o ATHINON'),(48,202000000,'1o ATHINON'),(49,203000000,'1o ATHINON'),(50,204000000,'2o PATRAS'),(51,205000000,'2o PATRAS'),(52,206000000,'2o PATRAS'),(53,207000000,'2o PATRAS'),(54,208000000,'2o PATRAS'),(55,209000000,'2o PATRAS'),(56,210000000,'2o PATRAS'),(57,211000000,'2o PATRAS'),(58,212000000,'2o PATRAS'),(59,213000000,'2o PATRAS'),(60,214000000,'2o PATRAS'),(61,215000000,'2o PATRAS'),(62,216000000,'2o PATRAS'),(63,217000000,'2o PATRAS'),(64,218000000,'2o PATRAS'),(65,219000000,'2o PATRAS'),(66,220000000,'2o PATRAS'),(67,221000000,'2o PATRAS'),(68,222000000,'2o PATRAS'),(69,223000000,'2o PATRAS'),(70,224000000,'2o PATRAS'),(71,225000000,'2o PATRAS'),(72,226000000,'2o PATRAS'),(73,227000000,'2o PATRAS'),(74,228000000,'2o PATRAS'),(75,229000000,'2o PATRAS'),(76,230000000,'2o PATRAS'),(77,231000000,'2o PATRAS'),(78,232000000,'2o PATRAS'),(79,233000000,'2o PATRAS'),(80,234000000,'2o PATRAS'),(81,235000000,'2o PATRAS'),(82,250000000,'2o PATRAS'),(83,251000000,'2o PATRAS'),(84,252000000,'2o PATRAS'),(85,253000000,'2o PATRAS'),(86,254000000,'2o PATRAS'),(87,255000000,'2o PATRAS'),(88,256000000,'2o PATRAS'),(89,257000000,'2o PATRAS'),(90,258000000,'2o PATRAS'),(91,259000000,'2o PATRAS'),(92,260000000,'2o PATRAS'),(93,261000000,'2o PATRAS'),(94,301000000,'2o PATRAS'),(95,302000000,'2o PATRAS'),(96,303000000,'2o PATRAS'),(97,304000000,'2o PATRAS'),(98,305000000,'2o PATRAS'),(99,306000000,'2o PATRAS'),(100,307000000,'3o BOLOU'),(101,308000000,'3o BOLOU'),(102,309000000,'3o BOLOU'),(103,310000000,'3o BOLOU'),(104,311000000,'3o BOLOU'),(105,312000000,'3o BOLOU'),(106,313000000,'3o BOLOU'),(107,314000000,'3o BOLOU'),(108,315000000,'3o BOLOU'),(109,316000000,'3o BOLOU'),(110,317000000,'3o BOLOU'),(111,318000000,'3o BOLOU'),(112,319000000,'3o BOLOU'),(113,320000000,'3o BOLOU'),(114,321000000,'3o BOLOU'),(115,322000000,'3o BOLOU'),(116,323000000,'3o BOLOU'),(117,324000000,'3o BOLOU'),(118,325000000,'3o BOLOU'),(119,326000000,'3o BOLOU'),(120,327000000,'3o BOLOU'),(121,328000000,'3o BOLOU'),(122,329000000,'3o BOLOU'),(123,330000000,'3o BOLOU'),(124,331000000,'3o BOLOU'),(125,332000000,'3o BOLOU'),(126,333000000,'3o BOLOU'),(127,334000000,'3o BOLOU'),(128,335000000,'3o BOLOU'),(129,350000000,'3o BOLOU'),(130,351000000,'3o BOLOU'),(131,352000000,'3o BOLOU'),(132,353000000,'3o BOLOU'),(133,354000000,'3o BOLOU'),(134,355000000,'3o BOLOU'),(135,356000000,'3o BOLOU'),(136,357000000,'3o BOLOU'),(137,358000000,'3o BOLOU'),(138,359000000,'3o BOLOU'),(139,360000000,'3o BOLOU'),(140,361000000,'3o BOLOU'),(141,401000000,'3o BOLOU'),(142,402000000,'3o BOLOU'),(143,403000000,'3o BOLOU'),(144,404000000,'3o BOLOU'),(145,405000000,'3o BOLOU'),(146,406000000,'3o BOLOU'),(147,407000000,'3o BOLOU'),(148,408000000,'4o THESSALONIKIS'),(149,409000000,'4o THESSALONIKIS'),(150,410000000,'4o THESSALONIKIS'),(151,411000000,'4o THESSALONIKIS'),(152,412000000,'4o THESSALONIKIS'),(153,413000000,'4o THESSALONIKIS'),(154,414000000,'4o THESSALONIKIS'),(155,415000000,'4o THESSALONIKIS'),(156,416000000,'4o THESSALONIKIS'),(157,417000000,'4o THESSALONIKIS'),(158,418000000,'4o THESSALONIKIS'),(159,419000000,'4o THESSALONIKIS'),(160,420000000,'4o THESSALONIKIS'),(161,421000000,'4o THESSALONIKIS'),(162,422000000,'4o THESSALONIKIS'),(163,423000000,'4o THESSALONIKIS'),(164,424000000,'4o THESSALONIKIS'),(165,425000000,'4o THESSALONIKIS'),(166,426000000,'4o THESSALONIKIS'),(167,427000000,'4o THESSALONIKIS'),(168,428000000,'4o THESSALONIKIS'),(169,429000000,'4o THESSALONIKIS'),(170,430000000,'4o THESSALONIKIS'),(171,431000000,'4o THESSALONIKIS'),(172,432000000,'4o THESSALONIKIS'),(173,433000000,'4o THESSALONIKIS'),(174,434000000,'4o THESSALONIKIS'),(175,435000000,'4o THESSALONIKIS'),(176,450000000,'4o THESSALONIKIS'),(177,451000000,'4o THESSALONIKIS'),(178,452000000,'4o THESSALONIKIS'),(179,453000000,'4o THESSALONIKIS'),(180,454000000,'4o THESSALONIKIS'),(181,455000000,'4o THESSALONIKIS'),(182,456000000,'4o THESSALONIKIS'),(183,457000000,'4o THESSALONIKIS'),(184,458000000,'4o THESSALONIKIS'),(185,459000000,'4o THESSALONIKIS'),(186,460000000,'4o THESSALONIKIS'),(187,461000000,'4o THESSALONIKIS');
/*!40000 ALTER TABLE `goes_to` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `handles`
--

DROP TABLE IF EXISTS `handles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `handles` (
  `handle_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) NOT NULL,
  `school_name` varchar(45) NOT NULL,
  `borrowings_approved` int(11) NOT NULL,
  PRIMARY KEY (`handle_id`),
  KEY `handles_ibfk_1` (`id`),
  KEY `handles_ibfk_2` (`school_name`),
  CONSTRAINT `handles_ibfk_1` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `handles_ibfk_2` FOREIGN KEY (`school_name`) REFERENCES `school_unit` (`school_name`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `handles`
--

LOCK TABLES `handles` WRITE;
/*!40000 ALTER TABLE `handles` DISABLE KEYS */;
INSERT INTO `handles` VALUES (1,170000000,'1o ATHINON',45),(2,270000000,'2o PATRAS',29),(3,370000000,'3o BOLOU',49),(4,470000000,'4o THESSALONIKIS',0);
/*!40000 ALTER TABLE `handles` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `insert_handles_trigger` BEFORE INSERT ON `handles` FOR EACH ROW BEGIN
    DECLARE role INT;
    SELECT number INTO role FROM user WHERE id = NEW.id;
    IF role <> 3 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Only users with role_id = 3 are allowed.';
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `key_word`
--

DROP TABLE IF EXISTS `key_word`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `key_word` (
  `key_word_id` int(11) NOT NULL AUTO_INCREMENT,
  `key_word` varchar(50) NOT NULL,
  PRIMARY KEY (`key_word_id`),
  KEY `key_word` (`key_word`)
) ENGINE=InnoDB AUTO_INCREMENT=212 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `key_word`
--

LOCK TABLES `key_word` WRITE;
/*!40000 ALTER TABLE `key_word` DISABLE KEYS */;
INSERT INTO `key_word` VALUES (3,' Ancient Civilizations'),(4,' Cosmic Secrets'),(5,' Darkness'),(6,' Forgotten Civilizations'),(7,' Inner Peace'),(8,' Inner Strength'),(9,' Intentional Living'),(10,' Self-discovery'),(11,' Self-reflection'),(12,' Shadows'),(13,' Suspense'),(14,' Wisdom'),(15,'Adventure'),(16,'Adversity'),(17,'Alchemist'),(18,'Alchemy'),(19,'Ancient Artifacts'),(20,'Ancient Traditions'),(21,'Ancient Wisdom'),(22,'Archaeological Adventure'),(23,'Archaeology'),(24,'Art of Connection'),(25,'Art of Mindfulness'),(26,'Art of Resilience'),(27,'Art of Serendipity'),(28,'Art of Simplicity'),(29,'Artistic Expression'),(30,'Artistic Potential'),(31,'Astral Symphony'),(32,'Authentic'),(33,'Awareness'),(34,'Beauty'),(35,'Betrayal'),(36,'Biology'),(37,'Celestial Odyssey'),(38,'Celestial Phenomena'),(39,'Celestial Prophecy'),(40,'Celestial Signs'),(41,'Celestial Voyage'),(42,'Chance'),(43,'Change'),(44,'Chronicles'),(45,'Codebreaker'),(46,'Cognition'),(47,'Communication'),(48,'Connection'),(49,'Conquest'),(50,'Conscious Leadership'),(51,'Consciousness'),(52,'Cosmos'),(53,'Creative'),(54,'Creative Process'),(55,'Creativity'),(56,'Crimson Crown'),(57,'Cryptography'),(58,'Cryptology'),(59,'Culinary Chronicles'),(60,'Curiosity'),(61,'Curious Case'),(62,'Dark Secrets'),(63,'Declutter'),(64,'Decluttering'),(65,'Desire'),(66,'Destiny'),(67,'Dilemma'),(68,'Dreams'),(69,'Effect'),(70,'Elemental Chronicles'),(71,'Elemental Enigma'),(72,'Elements'),(73,'Emotions'),(74,'Empowerment'),(75,'Enchanted Dreamscape'),(76,'Enchanted Forest'),(77,'Enchanted Garden'),(78,'Enchantment'),(79,'Encryption'),(80,'Enigma'),(81,'Enigma Code'),(82,'Enigma of Time'),(83,'Entanglement'),(84,'Espionage'),(85,'Essence'),(86,'Essence of Gratitude'),(87,'Eternity'),(88,'Ethical Dilemmas'),(89,'Existence'),(90,'Exploration'),(91,'Explorer'),(92,'Fate'),(93,'Focus'),(94,'Forbidden Knowledge'),(95,'Forbidden Tome'),(96,'Forgotten Chronicles'),(97,'Forgotten Realm'),(98,'Galaxies'),(99,'Gastronomic Journey'),(100,'Gratitude Journal'),(101,'Healing Journey'),(102,'Heroes'),(103,'Hidden Secrets'),(104,'Historical Events'),(105,'History'),(106,'Imagination'),(107,'Infinite Mind'),(108,'Inner Peace'),(109,'Inner Strength'),(110,'Inner Wisdom'),(111,'Inspiration'),(112,'Intrigue'),(113,'Introspection'),(114,'Intuition'),(115,'Journal'),(116,'Journey Within'),(117,'Knowledge'),(118,'Labyrinth'),(119,'Legacy'),(120,'Legends'),(121,'Life'),(122,'Lost City'),(123,'Lost Civilization'),(124,'Lost Expedition'),(125,'Lost Kingdoms'),(126,'Lost Realm'),(127,'Love'),(128,'Magic'),(129,'Magical'),(130,'Magical Realms'),(131,'Midnight'),(132,'Midnight Garden'),(133,'Midnight Masquerade'),(143,'Mind\'s Eye'),(134,'Mind-bending'),(135,'Mindful'),(136,'Mindful Entrepreneur'),(137,'Mindful Journey'),(138,'Mindful Life'),(139,'Mindful Living'),(140,'Mindful Path'),(141,'Mindfulness'),(142,'Mindfulness Practices'),(144,'Mindset'),(145,'Minimalist'),(146,'Moonlit Sky'),(147,'Music'),(148,'Mysteries'),(149,'Mystical Creatures'),(150,'Mystical Secrets'),(151,'Mythical Creatures'),(152,'Nature'),(153,'Passion'),(154,'Path to Enlightenment'),(155,'Peace'),(156,'Perception'),(157,'Personal Development'),(158,'Personal Growth'),(159,'Philosopher\'s Stone'),(160,'Power'),(161,'Power of Gratitude'),(162,'Power Within'),(163,'Practice'),(164,'Presence'),(165,'Quantum Chronicles'),(166,'Quantum Code'),(167,'Quantum Labyrinth'),(168,'Quantum Mechanics'),(169,'Quantum Nexus'),(170,'Quantum Physics'),(171,'Quest'),(172,'Reality'),(173,'Reflection Exercises'),(174,'Renaissance'),(175,'Resilience'),(176,'Science'),(177,'Secret Atlas');
/*!40000 ALTER TABLE `key_word` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `manages`
--

DROP TABLE IF EXISTS `manages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `manages` (
  `manages_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) NOT NULL,
  `id` int(11) NOT NULL,
  PRIMARY KEY (`manages_id`),
  KEY `manages_ibfk_1` (`name`),
  KEY `manages_ibfk_2` (`id`),
  CONSTRAINT `manages_ibfk_1` FOREIGN KEY (`name`) REFERENCES `school_unit` (`school_name`) ON UPDATE CASCADE,
  CONSTRAINT `manages_ibfk_2` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `manages`
--

LOCK TABLES `manages` WRITE;
/*!40000 ALTER TABLE `manages` DISABLE KEYS */;
INSERT INTO `manages` VALUES (1,'1o ATHINON',180000000),(2,'2o PATRAS',180000000),(3,'3o BOLOU',180000000),(4,'4o THESSALONIKIS',180000000);
/*!40000 ALTER TABLE `manages` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `before_insert_manages` BEFORE INSERT ON `manages` FOR EACH ROW BEGIN
     DECLARE role INT;
     SELECT number INTO role FROM user WHERE id = NEW.id;
     IF role <> 4 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Only users with role_id = 4 are allowed.';
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `review`
--

DROP TABLE IF EXISTS `review`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `review` (
  `review_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` int(11) NOT NULL,
  `isbn` varchar(13) NOT NULL,
  `likert_scale` int(11) NOT NULL,
  `review_text` varchar(500) NOT NULL,
  `review_status` varchar(25) NOT NULL,
  PRIMARY KEY (`review_id`),
  KEY `review_ibfk_1` (`id`),
  KEY `review_ibfk_2` (`isbn`),
  CONSTRAINT `review_ibfk_1` FOREIGN KEY (`id`) REFERENCES `user` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `review_ibfk_2` FOREIGN KEY (`isbn`) REFERENCES `books` (`isbn`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `review`
--

LOCK TABLES `review` WRITE;
/*!40000 ALTER TABLE `review` DISABLE KEYS */;
INSERT INTO `review` VALUES (2,102000000,'1070000000000',3,'A thought-provoking novel that explores important themes such as love, loss, and redemption. The writing style is beautiful and the characters are deeply compelling.','approved'),(3,103000000,'1080000000000',5,'This dystopian tale paints a haunting picture of a society gone wrong. It\'s a chilling reminder of the potential consequences of unchecked power.','approved'),(4,104000000,'1090000000000',4,'A charming and witty romance that transports readers to a different era. The dialogue is clever and the chemistry between the main characters is palpable.','inapproved'),(5,105000000,'1100000000000',3,'This book is a powerful exploration of identity and self-discovery. The protagonist\'s journey is both relatable and inspiring.','approved'),(7,107000000,'1070000000000',4,'A deeply moving story that tackles sensitive subjects with grace and compassion. It\'s a book that will stay with you long after you\'ve turned the last page.','approved'),(8,131000000,'1530000000000',4,'This non-fiction work is a fascinating examination of a historical event. The author\'s research is meticulous and their storytelling skills are superb.','approved'),(9,132000000,'1540000000000',3,'A gripping thriller that will keep you on the edge of your seat. The pacing is excellent and the suspense is maintained throughout.','inapproved'),(10,133000000,'1550000000000',5,'A heartwarming tale of friendship and resilience. The characters are well-developed and their journey is both uplifting and poignant.','inapproved'),(11,134000000,'1560000000000',5,'This science fiction novel is a mind-bending exploration of alternate realities. The concept is intriguing and the execution is flawless.','approved'),(12,135000000,'1570000000000',4,'An intimate and introspective memoir that offers a unique perspective on life. The author\'s vulnerability and honesty are truly commendable.','approved'),(13,150000000,'1580000000000',3,'A hilarious and satirical take on modern society. The humor is sharp and the social commentary is spot-on.','approved'),(14,151000000,'1590000000000',4,'This historical fiction novel brings a bygone era to life with vivid detail. The author\'s attention to historical accuracy is commendable.','approved'),(15,152000000,'1600000000000',5,'An inspiring self-help book that offers practical advice for personal growth. The author\'s insights are both relatable and empowering.','approved'),(16,153000000,'1610000000000',3,'A deeply atmospheric mystery set in a small town. The sense of place is palpable and the plot keeps you guessing until the end.','inapproved'),(17,154000000,'1620000000000',4,'This literary masterpiece explores complex themes of love, death, and the human condition. The prose is beautifully written and the characters are unforgettable.','approved'),(19,156000000,'1070000000000',5,'A gripping historical thriller that seamlessly blends fact and fiction. The author\'s attention to detail creates a truly immersive reading experience.','approved'),(20,157000000,'1080000000000',4,'This collection of short stories showcases the author\'s versatility and storytelling prowess. Each story is a gem in its own right, offering a glimpse into different worlds and perspectives.','approved'),(21,158000000,'1090000000000',1,'This book was a complete disappointment. The plot was predictable, and the characters lacked depth. It felt like a wasted opportunity.','approved'),(24,201000000,'1080000000000',3,'I had high hopes for this novel, but it fell flat. The plot was convoluted and confusing, making it difficult to follow. I was left feeling unsatisfied.','approved'),(26,203000000,'1100000000000',1,'This book was a prime example of lazy storytelling. The narrative was disjointed, and the character development was practically nonexistent. It was a struggle to finish.','approved'),(28,222000000,'1010000000000',2,'The author\'s attempt at humor fell flat throughout this book. The jokes were stale, and the comedic timing was off. It was a tedious read.','approved'),(29,223000000,'1020000000000',3,'The world-building in this fantasy novel was lackluster. The setting felt underdeveloped and inconsistent, making it difficult to immerse myself in the story.','approved'),(30,224000000,'1030000000000',1,'I was disappointed by the lack of originality in this book. It felt like a rehash of tired tropes and clichÃ©s, offering nothing new or exciting. It was a missed opportunity.','approved');
/*!40000 ALTER TABLE `review` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `check_borrowed_book` BEFORE INSERT ON `review` FOR EACH ROW BEGIN
    DECLARE user_id INT;
    DECLARE book_isbn VARCHAR(13);
    DECLARE borrowed_count INT;
    DECLARE book_status VARCHAR(25);

    SET user_id = NEW.id;
    SET book_isbn = NEW.isbn;

    SELECT status INTO book_status
    FROM borrowing
    WHERE id = user_id AND isbn = book_isbn;

    SELECT COUNT(*) INTO borrowed_count
    FROM borrowing
    WHERE id = user_id AND isbn = book_isbn AND book_status<>'inactive';

    IF borrowed_count = 0 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'You can only review a book that you have borrowed.';
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `school_unit`
--

DROP TABLE IF EXISTS `school_unit`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `school_unit` (
  `school_name` varchar(45) NOT NULL,
  `city` varchar(45) NOT NULL,
  `ph_nmbr` varchar(10) NOT NULL,
  `mail` varchar(45) NOT NULL,
  `addr_code` smallint(6) NOT NULL,
  `address` varchar(45) NOT NULL,
  `dir_name` varchar(45) NOT NULL,
  PRIMARY KEY (`school_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `school_unit`
--

LOCK TABLES `school_unit` WRITE;
/*!40000 ALTER TABLE `school_unit` DISABLE KEYS */;
INSERT INTO `school_unit` VALUES ('1o ATHINON','Athens','2105077665','ath-school@hotmail.com',4123,'kapodistriou 37','Papapetrou Anastasis'),('2o PATRAS','Patra','2610667755','patr-school@gmail.com',9999,'granikou 23','Kalfopoulos Nikitas'),('3o BOLOU','Bolos','2421122334','vol-school@hotmail.com',2,'gazi 79','Mpezos Alexandros'),('4o THESSALONIKIS','Thessaloniki','2310755881','ath-school@gmail.com',2,'zagoras 16','Panteli Dora');
/*!40000 ALTER TABLE `school_unit` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user`
--

DROP TABLE IF EXISTS `user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(60) NOT NULL,
  `name` varchar(45) NOT NULL,
  `age` int(11) NOT NULL,
  `ph_nmbr` varchar(10) NOT NULL,
  `mail` varchar(45) NOT NULL,
  `nmbr_of_books` int(11) NOT NULL,
  `number` int(11) NOT NULL,
  `approved_status` varchar(25) DEFAULT NULL,
  `weekly_borrowing_count` int(11) NOT NULL,
  `weekly_booking_count` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `number` (`number`,`approved_status`,`weekly_borrowing_count`,`weekly_booking_count`)
) ENGINE=InnoDB AUTO_INCREMENT=470000001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user`
--

LOCK TABLES `user` WRITE;
/*!40000 ALTER TABLE `user` DISABLE KEYS */;
INSERT INTO `user` VALUES (101000000,'Nikos_Papadopoulos','Nikos Papadopoulos',15,'6900000101','Nikos_Papadopoulos@gmail.com',1,1,'active',1,1),(102000000,'Maria_Georgiou','Maria Georgiou',16,'6900000102','Maria_Georgiou@gmail.com',2,1,'active',0,1),(103000000,'Dimitris_Papandreou','Dimitris Papandreou',17,'6900000103','Dimitris_Papandreou@gmail.com',2,1,'active',0,1),(104000000,'Katerina_Kostas','Katerina Kostas',18,'6900000104','Katerina_Kostas@gmail.com',2,1,'active',0,1),(105000000,'Giannis_Karagiannis','Giannis Karagiannis',15,'6900000105','Giannis_Karagiannis@gmail.com',1,1,'active',1,1),(106000000,'Eleni_Athanasiou','Eleni Athanasiou',16,'6900000106','Eleni_Athanasiou@gmail.com',0,1,'active',2,2),(107000000,'Alexandros_Stefanopoulos','Alexandros Stefanopoulos',17,'6900000107','Alexandros_Stefanopoulos@gmail.com',1,1,'active',1,1),(108000000,'Sofia_Papadakis','Sofia Papadakis',18,'6900000108','Sofia_Papadakis@gmail.com',1,1,'active',1,1),(109000000,'Andreas_Katsaris','Andreas Katsaris',15,'6900000109','Andreas_Katsaris@gmail.com',1,1,'active',1,1),(110000000,'Despina_Papanikolaou','Despina Papanikolaou',16,'6900000110','Despina_Papanikolaou@gmail.com',1,1,'active',1,1),(111000000,'Giorgos_Papadimitriou','Giorgos Papadimitriou',17,'6900000111','Giorgos_Papadimitriou@gmail.com',1,1,'active',1,1),(112000000,'Katerina_Christopoulos','Katerina Christopoulos',18,'6900000112','Katerina_Christopoulos@gmail.com',1,1,'active',1,1),(113000000,'Panagiotis_Arvanitis','Panagiotis Arvanitis',15,'6900000113','Panagiotis_Arvanitis@gmail.com',1,1,'active',1,1),(114000000,'Eleftheria_Dimitriou','Eleftheria Dimitriou',16,'6900000114','Eleftheria_Dimitriou@gmail.com',1,1,'active',1,1),(115000000,'Alexandros_Ioannou','Alexandros Ioannou',17,'6900000115','Alexandros_Ioannou@gmail.com',0,1,'active',2,2),(116000000,'Maria_Tzortzis','Maria Tzortzis',18,'6900000116','Maria_Tzortzis@gmail.com',1,1,'active',1,1),(117000000,'Ioannis_Koulouris','Ioannis Koulouris',15,'6900000117','Ioannis_Koulouris@gmail.com',1,1,'active',1,1),(118000000,'Dimitra_Antoniou','Dimitra Antoniou',16,'6900000118','Dimitra_Antoniou@gmail.com',1,1,'active',1,1),(119000000,'Thanasis_Economou','Thanasis Economou',17,'6900000119','Thanasis_Economou@gmail.com',0,1,'active',2,1),(120000000,'Christina_Papageorgiou','Christina Papageorgiou',18,'6900000120','Christina_Papageorgiou@gmail.com',1,1,'active',1,1),(121000000,'Nikolas_Karamanlis','Nikolas Karamanlis',15,'6900000121','Nikolas_Karamanlis@gmail.com',1,1,'active',1,2),(122000000,'Eleni_Vasilopoulos','Eleni Vasilopoulos',16,'6900000122','Eleni_Vasilopoulos@gmail.com',1,1,'active',1,2),(123000000,'Andreas_Nikolaidis','Andreas Nikolaidis',17,'6900000123','Andreas_Nikolaidis@gmail.com',1,1,'active',1,2),(124000000,'Georgia_Papazoglou','Georgia Papazoglou',18,'6900000124','Georgia_Papazoglou@gmail.com',1,1,'active',1,2),(125000000,'Panagiotis_Michalopoulos','Panagiotis Michalopoulos',15,'6900000125','Panagiotis_Michalopoulos@gmail.com',1,1,'active',1,2),(126000000,'Sofia_Sotiriou','Sofia Sotiriou',16,'6900000126','Sofia_Sotiriou@gmail.com',1,1,'active',1,2),(127000000,'Antonis_Theodorou','Antonis Theodorou',17,'6900000127','Antonis_Theodorou@gmail.com',1,1,'active',1,2),(128000000,'Fotini_Alexandropoulos','Fotini Alexandropoulos',18,'6900000128','Fotini_Alexandropoulos@gmail.com',1,1,'active',1,2),(129000000,'Konstantinos_Kallergis','Konstantinos Kallergis',15,'6900000129','Konstantinos_Kallergis@gmail.com',1,1,'active',1,2),(130000000,'Eleftheria_Panagiotopoulos','Eleftheria Panagiotopoulos',16,'6900000130','Eleftheria_Panagiotopoulos@gmail.com',1,1,'active',1,2),(131000000,'Christos_Mavridis','Christos Mavridis',17,'6900000131','Christos_Mavridis@gmail.com',1,1,'active',1,2),(132000000,'Anna_Papantonis','Anna Papantonis',18,'6900000132','Anna_Papantonis@gmail.com',1,1,'active',1,2),(133000000,'Athanasios_Georgiadis','Athanasios Georgiadis',15,'6900000133','Athanasios_Georgiadis@gmail.com',1,1,'active',1,2),(134000000,'Dimitra_Bakirtzis','Dimitra Bakirtzis',16,'6900000134','Dimitra_Bakirtzis@gmail.com',1,1,'active',1,2),(135000000,'Georgios_Petridis','Georgios Petridis',17,'6900000135','Georgios_Petridis@gmail.com',1,1,'active',1,2),(150000000,'Anastasia_Papakonstantinou','Anastasia Papakonstantinou',41,'6900000150','Anastasia_Papakonstantinou@gmail.com',1,2,'active',0,1),(151000000,'Kostas_Pavlidis','Kostas Pavlidis',42,'6900000151','Kostas_Pavlidis@gmail.com',1,2,'active',0,1),(152000000,'Ioanna_Aggelopoulos','Ioanna Aggelopoulos',43,'6900000152','Ioanna_Aggelopoulos@gmail.com',1,2,'active',0,1),(153000000,'Michalis_Katsoulis','Michalis Katsoulis',34,'6900000153','Michalis_Katsoulis@gmail.com',1,2,'active',0,1),(154000000,'Aggeliki_Stefanidis','Aggeliki Stefanidis',35,'6900000154','Aggeliki_Stefanidis@gmail.com',1,2,'active',0,1),(155000000,'Andreas_Angelopoulos','Andreas Angelopoulos',36,'6900000155','Andreas_Angelopoulos@gmail.com',0,2,'active',1,1),(156000000,'Maria_Panagiotou','Maria Panagiotou',47,'6900000156','Maria_Panagiotou@gmail.com',1,2,'active',0,1),(157000000,'Dimitrios_Papazisis','Dimitrios Papazisis',38,'6900000157','Dimitrios_Papazisis@gmail.com',1,2,'active',0,1),(158000000,'Katerina_Alexopoulos','Katerina Alexopoulos',39,'6900000158','Katerina_Alexopoulos@gmail.com',1,2,'active',0,1),(159000000,'Giorgos_Vasileiou','Giorgos Vasileiou',50,'6900000159','Giorgos_Vasileiou@gmail.com',0,2,'active',1,1),(160000000,'Eleni_Papamichael','Eleni Papamichael',51,'6900000160','Eleni_Papamichael@gmail.com',0,2,'active',1,1),(170000000,'Alexandros_Petropoulos','Alexandros Petropoulos',52,'6900000170','Alexandros_Petropoulos@gmail.com',0,3,'active',0,0),(180000000,'Nikos_Georgiadis','Nikos Georgiadis',53,'6900000180','Nikos_Georgiadis@gmail.com',0,4,'active',0,0),(201000000,'Nikolas_Adamopoulos','Nikolas Adamopoulos',15,'6900000201','Nikolas_Adamopoulos@gmail.com',1,1,'active',1,2),(202000000,'Maria_Christodoulou','Maria Christodoulou',16,'6900000202','Maria_Christodoulou@gmail.com',0,1,'active',2,2),(203000000,'Dimitra_Papastamatiou','Dimitra Papastamatiou',17,'6900000203','Dimitra_Papastamatiou@gmail.com',1,1,'active',1,2),(204000000,'Christos_Andreadis','Christos Andreadis',18,'6900000204','Christos_Andreadis@gmail.com',1,1,'active',1,2),(205000000,'Eleni_Papoulis','Eleni Papoulis',15,'6900000205','Eleni_Papoulis@gmail.com',1,1,'active',1,1),(206000000,'Alexandros_Georgiadis','Alexandros Georgiadis',16,'6900000206','Alexandros_Georgiadis@gmail.com',1,1,'active',1,1),(207000000,'Sofia_Karas','Sofia Karas',17,'6900000207','Sofia_Karas@gmail.com',1,1,'active',1,1),(208000000,'Giannis_Apostolou','Giannis Apostolou',18,'6900000208','Giannis_Apostolou@gmail.com',1,1,'active',1,1),(209000000,'Katerina_Nikolaidou','Katerina Nikolaidou',15,'6900000209','Katerina_Nikolaidou@gmail.com',1,1,'active',1,1),(210000000,'Andreas_Papandreou','Andreas Papandreou',16,'6900000210','Andreas_Papandreou@gmail.com',1,1,'active',1,1),(211000000,'Eleftheria_Papadellis','Eleftheria Papadellis',17,'6900000211','Eleftheria_Papadellis@gmail.com',1,1,'active',1,2),(212000000,'Panagiotis_Lambrou','Panagiotis Lambrou',18,'6900000212','Panagiotis_Lambrou@gmail.com',1,1,'active',1,2),(213000000,'Despina_Papadakis','Despina Papadakis',15,'6900000213','Despina_Papadakis@gmail.com',0,1,'active',2,2),(214000000,'Antonis_Stefanidis','Antonis Stefanidis',16,'6900000214','Antonis_Stefanidis@gmail.com',0,1,'active',2,2),(215000000,'Georgia_Georgopoulos','Georgia Georgopoulos',17,'6900000215','Georgia_Georgopoulos@gmail.com',0,1,'active',2,2),(216000000,'Ioannis_Stavropoulos','Ioannis Stavropoulos',18,'6900000216','Ioannis_Stavropoulos@gmail.com',0,1,'active',2,2),(217000000,'Dimitris_Konstantinidis','Dimitris Konstantinidis',15,'6900000217','Dimitris_Konstantinidis@gmail.com',0,1,'active',2,2),(218000000,'Maria_Karamanlis','Maria Karamanlis',16,'6900000218','Maria_Karamanlis@gmail.com',0,1,'active',2,2),(219000000,'Thanasis_Papanikolopoulos','Thanasis Papanikolopoulos',17,'6900000219','Thanasis_Papanikolopoulos@gmail.com',0,1,'active',2,2),(220000000,'Christina_Dimitriadis','Christina Dimitriadis',18,'6900000220','Christina_Dimitriadis@gmail.com',0,1,'active',2,2),(221000000,'Nikos_Katsoulis','Nikos Katsoulis',15,'6900000221','Nikos_Katsoulis@gmail.com',0,1,'active',2,2),(222000000,'Eleni_Vasileiadis','Eleni Vasileiadis',16,'6900000222','Eleni_Vasileiadis@gmail.com',1,1,'active',1,2),(223000000,'Andreas_Economides','Andreas Economides',17,'6900000223','Andreas_Economides@gmail.com',1,1,'active',1,2),(224000000,'Sofia_Panagiotidis','Sofia Panagiotidis',18,'6900000224','Sofia_Panagiotidis@gmail.com',1,1,'active',1,2),(225000000,'Georgios_Athanasiadis','Georgios Athanasiadis',15,'6900000225','Georgios_Athanasiadis@gmail.com',1,1,'active',1,2),(226000000,'Dimitra_Papadopoulou','Dimitra Papadopoulou',16,'6900000226','Dimitra_Papadopoulou@gmail.com',1,1,'active',1,2),(227000000,'Panagiotis_Alexandropoulos','Panagiotis Alexandropoulos',17,'6900000227','Panagiotis_Alexandropoulos@gmail.com',1,1,'active',1,2),(228000000,'Eleftheria_Kostopoulos','Eleftheria Kostopoulos',18,'6900000228','Eleftheria_Kostopoulos@gmail.com',1,1,'active',1,2),(229000000,'Christos_Papantonopoulos','Christos Papantonopoulos',15,'6900000229','Christos_Papantonopoulos@gmail.com',1,1,'active',1,2),(230000000,'Anna_Ioannidis','Anna Ioannidis',16,'6900000230','Anna_Ioannidis@gmail.com',1,1,'active',1,2),(231000000,'Athanasia_Antoniadis','Athanasia Antoniadis',17,'6900000231','Athanasia_Antoniadis@gmail.com',1,1,'active',1,2),(232000000,'Dimitris_Theodoropoulos','Dimitris Theodoropoulos',18,'6900000232','Dimitris_Theodoropoulos@gmail.com',1,1,'active',1,2),(233000000,'Fotini_Kourkoulis','Fotini Kourkoulis',17,'6900000233','Fotini_Kourkoulis@gmail.com',1,1,'active',1,2),(234000000,'Konstantinos_Papadopoulos','Konstantinos Papadopoulos',16,'6900000234','Konstantinos_Papadopoulos@gmail.com',1,1,'active',1,2),(235000000,'Eleftheria_Christopoulos','Eleftheria Christopoulos',15,'6900000235','Eleftheria_Christopoulos@gmail.com',1,1,'active',1,2),(250000000,'Anastasia_Mavroudis','Anastasia Mavroudis',41,'6900000250','Anastasia_Mavroudis@gmail.com',1,2,'active',0,1),(251000000,'Kostas_Panagiotopoulos','Kostas Panagiotopoulos',42,'6900000251','Kostas_Panagiotopoulos@gmail.com',1,2,'active',0,1),(252000000,'Ioanna_Mavridis','Ioanna Mavridis',43,'6900000252','Ioanna_Mavridis@gmail.com',1,2,'active',0,1),(253000000,'Michalis_Papakonstantinou','Michalis Papakonstantinou',44,'6900000253','Michalis_Papakonstantinou@gmail.com',1,2,'active',0,1),(254000000,'Aggeliki_Georgakopoulos','Aggeliki Georgakopoulos',45,'6900000254','Aggeliki_Georgakopoulos@gmail.com',1,2,'active',0,1),(255000000,'Andreas_Tzortzis','Andreas Tzortzis',46,'6900000255','Andreas_Tzortzis@gmail.com',1,2,'active',0,1),(256000000,'Maria_Papathanasiou','Maria Papathanasiou',37,'6900000256','Maria_Papathanasiou@gmail.com',1,2,'active',0,1),(257000000,'Dimitrios_Koulouris','Dimitrios Koulouris',38,'6900000257','Dimitrios_Koulouris@gmail.com',1,2,'active',0,1),(258000000,'Katerina_Antonopoulos','Katerina Antonopoulos',49,'6900000258','Katerina_Antonopoulos@gmail.com',1,2,'active',0,1),(259000000,'Giorgos_Papadimitriou','Giorgos Papadimitriou',50,'6900000259','Giorgos_Papadimitriou@gmail.com',0,2,'active',1,1),(260000000,'Eleni_Kallergis','Eleni Kallergis',51,'6900000260','Eleni_Kallergis@gmail.com',1,2,'active',0,1),(261000000,'Maria_Papakonstantinidis','Maria Papakonstantinidis',53,'6900000261','Maria_Papakonstantinidis@gmail.com',1,2,'active',0,1),(270000000,'Alexandros_Papazoglou','Alexandros Papazoglou',52,'6900000270','Alexandros_Papazoglou@gmail.com',0,3,'active',0,0),(301000000,'Maria_Papadellis','Maria Papadellis',15,'6900000301','Maria_Papadellis@gmail.com',1,1,'active',1,2),(302000000,'Dimitra_Kostas','Dimitra Kostas',16,'6900000302','Dimitra_Kostas@gmail.com',0,1,'active',2,2),(303000000,'Christos_Dimitriou','Christos Dimitriou',17,'6900000303','Christos_Dimitriou@gmail.com',1,1,'active',1,2),(304000000,'Eleni_Katsaris','Eleni Katsaris',18,'6900000304','Eleni_Katsaris@gmail.com',1,1,'active',1,2),(305000000,'Alexandros_Athanasiou','Alexandros Athanasiou',15,'6900000305','Alexandros_Athanasiou@gmail.com',1,1,'active',1,2),(306000000,'Sofia_Stefanopoulos','Sofia Stefanopoulos',16,'6900000306','Sofia_Stefanopoulos@gmail.com',1,1,'active',1,2),(307000000,'Giannis_Papakonstantinou','Giannis Papakonstantinou',17,'6900000307','Giannis_Papakonstantinou@gmail.com',1,1,'active',1,2),(308000000,'Katerina_Alexiou','Katerina Alexiou',18,'6900000308','Katerina_Alexiou@gmail.com',1,1,'active',1,2),(309000000,'Andreas_Pappas','Andreas Pappas',15,'6900000309','Andreas_Pappas@gmail.com',1,1,'active',1,0),(310000000,'Eleftheria_Georgiou','Eleftheria Georgiou',16,'6900000310','Eleftheria_Georgiou@gmail.com',2,1,'active',0,2),(311000000,'Panagiotis_Papantoniou','Panagiotis Papantoniou',17,'6900000311','Panagiotis_Papantoniou@gmail.com',1,1,'active',1,2),(312000000,'Despina_Angelopoulos','Despina Angelopoulos',18,'6900000312','Despina_Angelopoulos@gmail.com',1,1,'active',1,2),(313000000,'Antonis_Papageorgiou','Antonis Papageorgiou',15,'6900000313','Antonis_Papageorgiou@gmail.com',2,1,'active',0,2),(314000000,'Georgia_Papadopoulos','Georgia Papadopoulos',16,'6900000314','Georgia_Papadopoulos@gmail.com',1,1,'active',1,2),(315000000,'Ioannis_Arvanitis','Ioannis Arvanitis',17,'6900000315','Ioannis_Arvanitis@gmail.com',1,1,'active',1,2),(316000000,'Dimitris_Theodorou','Dimitris Theodorou',18,'6900000316','Dimitris_Theodorou@gmail.com',1,1,'active',1,2),(317000000,'Maria_Karamanlakis','Maria Karamanlakis',15,'6900000317','Maria_Karamanlakis@gmail.com',1,1,'active',1,2),(318000000,'Thanasis_Papandreou','Thanasis Papandreou',16,'6900000318','Thanasis_Papandreou@gmail.com',1,1,'active',1,2),(319000000,'Christina_Papazisis','Christina Papazisis',17,'6900000319','Christina_Papazisis@gmail.com',1,1,'active',1,2),(320000000,'Nikos_Vasilopoulos','Nikos Vasilopoulos',18,'6900000320','Nikos_Vasilopoulos@gmail.com',1,1,'active',1,2),(321000000,'Eleni_Nikolopoulos','Eleni Nikolopoulos',15,'6900000321','Eleni_Nikolopoulos@gmail.com',1,1,'active',1,2),(322000000,'Andreas_Michalopoulos','Andreas Michalopoulos',16,'6900000322','Andreas_Michalopoulos@gmail.com',1,1,'active',1,2),(323000000,'Sofia_Sotiriadis','Sofia Sotiriadis',17,'6900000323','Sofia_Sotiriadis@gmail.com',1,1,'active',1,2),(324000000,'Georgios_Papakonstantinidis','Georgios Papakonstantinidis',18,'6900000324','Georgios_Papakonstantinidis@gmail.com',1,1,'active',1,2),(325000000,'Dimitra_Tzortzis','Dimitra Tzortzis',15,'6900000325','Dimitra_Tzortzis@gmail.com',1,1,'active',1,2),(326000000,'Panagiotis_Mavridis','Panagiotis Mavridis',16,'6900000326','Panagiotis_Mavridis@gmail.com',1,1,'active',1,2),(327000000,'Eleftheria_Papathanasiou','Eleftheria Papathanasiou',17,'6900000327','Eleftheria_Papathanasiou@gmail.com',1,1,'active',1,2),(328000000,'Christos_Papadoulis','Christos Papadoulis',18,'6900000328','Christos_Papadoulis@gmail.com',1,1,'active',1,2),(329000000,'Anna_Koulouris','Anna Koulouris',15,'6900000329','Anna_Koulouris@gmail.com',1,1,'active',1,2),(330000000,'Athanasia_Christodoulou','Athanasia Christodoulou',16,'6900000330','Athanasia_Christodoulou@gmail.com',1,1,'active',1,2),(331000000,'Dimitris_Papas','Dimitris Papas',17,'6900000331','Dimitris_Papas@gmail.com',1,1,'active',1,2),(332000000,'Fotini_Kostopoulos','Fotini Kostopoulos',18,'6900000332','Fotini_Kostopoulos@gmail.com',1,1,'active',1,2),(333000000,'Konstantinos_Papazoglou','Konstantinos Papazoglou',15,'6900000333','Konstantinos_Papazoglou@gmail.com',1,1,'active',1,2),(334000000,'Eleftheria_Vasilakis','Eleftheria Vasilakis',16,'6900000334','Eleftheria_Vasilakis@gmail.com',1,1,'active',1,2),(335000000,'Anastasia_Panagiotou','Anastasia Panagiotou',17,'6900000335','Anastasia_Panagiotou@gmail.com',1,1,'active',1,2),(350000000,'Kostas_Georgiadis','Kostas Georgiadis',41,'6900000350','Kostas_Georgiadis@gmail.com',1,2,'active',0,1),(351000000,'Ioanna_Panagiotidis','Ioanna Panagiotidis',42,'6900000351','Ioanna_Panagiotidis@gmail.com',1,2,'active',0,1),(352000000,'Michalis_Bakirtzis','Michalis Bakirtzis',43,'6900000352','Michalis_Bakirtzis@gmail.com',1,2,'active',0,1),(353000000,'Aggeliki_Petridis','Aggeliki Petridis',44,'6900000353','Aggeliki_Petridis@gmail.com',1,2,'active',0,1),(354000000,'Andreas_Papageorgiou','Andreas Papageorgiou',45,'6900000354','Andreas_Papageorgiou@gmail.com',1,2,'active',0,1),(355000000,'Maria_Theodoropoulos','Maria Theodoropoulos',46,'6900000355','Maria_Theodoropoulos@gmail.com',1,2,'active',0,1),(356000000,'Dimitrios_Mavromatis','Dimitrios Mavromatis',37,'6900000356','Dimitrios_Mavromatis@gmail.com',1,2,'active',0,1),(357000000,'Katerina_Alexopoulos','Katerina Alexopoulos',38,'6900000357','Katerina_Alexopoulos@gmail.com',1,2,'active',0,1),(358000000,'Giorgos_Karas','Giorgos Karas',49,'6900000358','Giorgos_Karas@gmail.com',1,2,'active',0,1),(359000000,'Eleni_Papamichail','Eleni Papamichail',50,'6900000359','Eleni_Papamichail@gmail.com',1,2,'active',0,1),(360000000,'Alexandros_Kallergis','Alexandros Kallergis',51,'6900000360','Alexandros_Kallergis@gmail.com',1,2,'active',0,1),(361000000,'Dimitra_Koulouris','Dimitra Koulouris',53,'6900000361','Dimitra_Koulouris@gmail.com',1,2,'active',0,1),(370000000,'Nikos_Panagiotou','Nikos Panagiotou',52,'6900000370','Nikos_Panagiotou@gmail.com',0,3,'active',0,0),(401000000,'Nikolas_Karamanlakis','Nikolas Karamanlakis',17,'6900000401','Nikolas_Karamanlakis@gmail.com',1,1,'active',1,2),(402000000,'Maria_Papadimitrakopoulou','Maria Papadimitrakopoulou',18,'6900000402','Maria_Papadimitrakopoulou@gmail.com',1,1,'active',1,2),(403000000,'Dimitra_Katsaris','Dimitra Katsaris',15,'6900000403','Dimitra_Katsaris@gmail.com',1,1,'active',1,2),(404000000,'Christos_Papathanasiadis','Christos Papathanasiadis',16,'6900000404','Christos_Papathanasiadis@gmail.com',1,1,'active',1,2),(405000000,'Eleni_Georgopoulos','Eleni Georgopoulos',17,'6900000405','Eleni_Georgopoulos@gmail.com',1,1,'active',1,2),(406000000,'Alexandros_Stefanidis','Alexandros Stefanidis',18,'6900000406','Alexandros_Stefanidis@gmail.com',2,1,'active',0,2),(407000000,'Sofia_Panagiotopoulos','Sofia Panagiotopoulos',15,'6900000407','Sofia_Panagiotopoulos@gmail.com',2,1,'active',0,2),(408000000,'Giannis_Papazoglou','Giannis Papazoglou',16,'6900000408','Giannis_Papazoglou@gmail.com',0,1,'active',2,2),(409000000,'Katerina_Alexandropoulou','Katerina Alexandropoulou',17,'6900000409','Katerina_Alexandropoulou@gmail.com',0,1,'active',2,2),(410000000,'Andreas_Kostopoulos','Andreas Kostopoulos',18,'6900000410','Andreas_Kostopoulos@gmail.com',0,1,'active',2,2),(411000000,'Eleftheria_Papadellis','Eleftheria Papadellis',15,'6900000411','Eleftheria_Papadellis@gmail.com',0,1,'active',2,2),(412000000,'Panagiotis_Arvanitis','Panagiotis Arvanitis',16,'6900000412','Panagiotis_Arvanitis@gmail.com',0,1,'active',2,1),(413000000,'Despina_Georgiadou','Despina Georgiadou',17,'6900000413','Despina_Georgiadou@gmail.com',0,1,'active',2,1),(414000000,'Antonis_Papandreou','Antonis Papandreou',18,'6900000414','Antonis_Papandreou@gmail.com',0,1,'active',2,1),(415000000,'Georgia_Papadoulis','Georgia Papadoulis',15,'6900000415','Georgia_Papadoulis@gmail.com',0,1,'active',2,1),(416000000,'Ioannis_Theodorou','Ioannis Theodorou',16,'6900000416','Ioannis_Theodorou@gmail.com',0,1,'active',2,1),(417000000,'Dimitris_Mavridis','Dimitris Mavridis',17,'6900000417','Dimitris_Mavridis@gmail.com',0,1,'active',2,1),(418000000,'Maria_Papanikolopoulos','Maria Papanikolopoulos',18,'6900000418','Maria_Papanikolopoulos@gmail.com',0,1,'active',2,1),(419000000,'Thanasis_Tzortzis','Thanasis Tzortzis',15,'6900000419','Thanasis_Tzortzis@gmail.com',0,1,'active',2,1),(420000000,'Christina_Athanasiadis','Christina Athanasiadis',16,'6900000420','Christina_Athanasiadis@gmail.com',0,1,'active',2,1),(421000000,'Nikos_Papantonopoulos','Nikos Papantonopoulos',17,'6900000421','Nikos_Papantonopoulos@gmail.com',0,1,'active',2,1),(422000000,'Eleni_Kourkoulis','Eleni Kourkoulis',18,'6900000422','Eleni_Kourkoulis@gmail.com',0,1,'active',2,1),(423000000,'Andreas_Papadopoulos','Andreas Papadopoulos',15,'6900000423','Andreas_Papadopoulos@gmail.com',0,1,'active',2,1),(424000000,'Sofia_Katsoulis','Sofia Katsoulis',16,'6900000424','Sofia_Katsoulis@gmail.com',0,1,'active',2,1),(425000000,'Georgios_Papakonstantinou','Georgios Papakonstantinou',17,'6900000425','Georgios_Papakonstantinou@gmail.com',0,1,'active',2,1),(426000000,'Dimitra_Vasilopoulos','Dimitra Vasilopoulos',18,'6900000426','Dimitra_Vasilopoulos@gmail.com',0,1,'active',2,1),(427000000,'Panagiotis_Sotiriou','Panagiotis Sotiriou',15,'6900000427','Panagiotis_Sotiriou@gmail.com',0,1,'active',2,1),(428000000,'Eleftheria_Panagiotidis','Eleftheria Panagiotidis',16,'6900000428','Eleftheria_Panagiotidis@gmail.com',0,1,'active',2,1),(429000000,'Christos_Konstantinidis','Christos Konstantinidis',17,'6900000429','Christos_Konstantinidis@gmail.com',0,1,'active',2,1),(430000000,'Anna_Papageorgiou','Anna Papageorgiou',18,'6900000430','Anna_Papageorgiou@gmail.com',0,1,'active',2,2),(431000000,'Athanasia_Ioannidis','Athanasia Ioannidis',15,'6900000431','Athanasia_Ioannidis@gmail.com',0,1,'active',2,2),(432000000,'Dimitris_Kallergis','Dimitris Kallergis',16,'6900000432','Dimitris_Kallergis@gmail.com',0,1,'active',2,2),(433000000,'Fotini_Bakirtzis','Fotini Bakirtzis',17,'6900000433','Fotini_Bakirtzis@gmail.com',0,1,'active',2,2),(434000000,'Konstantinos_Papadakis','Konstantinos Papadakis',18,'6900000434','Konstantinos_Papadakis@gmail.com',0,1,'active',2,2),(435000000,'Eleftheria_Christopoulos','Eleftheria Christopoulos',15,'6900000435','Eleftheria_Christopoulos@gmail.com',0,1,'active',2,2),(450000000,'Anastasia_Papakonstantinou','Anastasia Papakonstantinou',41,'6900000450','Anastasia_Papakonstantinou@gmail.com',0,2,'active',1,1),(451000000,'Kostas_Antoniou','Kostas Antoniou',42,'6900000451','Kostas_Antoniou@gmail.com',0,2,'active',1,1),(452000000,'Ioanna_Theodoropoulos','Ioanna Theodoropoulos',33,'6900000452','Ioanna_Theodoropoulos@gmail.com',0,2,'active',1,1),(453000000,'Michalis_Mavromatis','Michalis Mavromatis',44,'6900000453','Michalis_Mavromatis@gmail.com',0,2,'active',1,1),(454000000,'Aggeliki_Alexopoulos','Aggeliki Alexopoulos',35,'6900000454','Aggeliki_Alexopoulos@gmail.com',0,2,'active',1,1),(455000000,'Andreas_Vasileiou','Andreas Vasileiou',46,'6900000455','Andreas_Vasileiou@gmail.com',0,2,'active',1,1),(456000000,'Maria_Papamichael','Maria Papamichael',47,'6900000456','Maria_Papamichael@gmail.com',0,2,'active',1,1),(457000000,'Dimitrios_Karamanlis','Dimitrios Karamanlis',48,'6900000457','Dimitrios_Karamanlis@gmail.com',0,2,'active',1,1),(458000000,'Katerina_Papanikolaou','Katerina Papanikolaou',49,'6900000458','Katerina_Papanikolaou@gmail.com',0,2,'active',1,1),(459000000,'Giorgos_Petridis','Giorgos Petridis',50,'6900000459','Giorgos_Petridis@gmail.com',0,2,'active',1,1),(460000000,'Eleni_Panagiotou','Eleni Panagiotou',51,'6900000460','Eleni_Panagiotou@gmail.com',0,2,'active',1,1),(461000000,'Christos_Papazisis','Christos Papazisis',53,'6900000461','Christos_Papazisis@gmail.com',0,2,'active',1,1),(470000000,'Alexandros_Economou','Alexandros Economou',52,'6900000470','Alexandros_Economou@gmail.com',0,3,'active',0,0);
/*!40000 ALTER TABLE `user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Current Database: `library_final`
--

USE `library_final`;

--
-- Final view structure for view `active_borrowings_view`
--

/*!50001 DROP VIEW IF EXISTS `active_borrowings_view`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = latin1 */;
/*!50001 SET character_set_results     = latin1 */;
/*!50001 SET collation_connection      = latin1_swedish_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `active_borrowings_view` AS select `gt`.`name` AS `school_name`,count(0) AS `active_borrowings_count` from ((`user` `u` join `goes_to` `gt` on(`u`.`id` = `gt`.`id`)) join `borrowing` `br` on(`gt`.`id` = `br`.`id`)) where `br`.`status` <> 'inactive' and `br`.`borrowing_date` >= curdate() - interval 1 year group by `gt`.`name` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-06-07 11:22:00
